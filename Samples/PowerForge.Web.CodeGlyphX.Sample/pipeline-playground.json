{
  "$schema": "../Schemas/powerforge.web.pipelinespec.schema.json",
  "steps": [
    {
      "task": "build",
      "config": "./site.json",
      "out": "../../Artifacts/PowerForge.Web.CodeGlyphX.Sample/site"
    },
    {
      "task": "dotnet-publish",
      "project": "../../../CodeMatrix/CodeGlyphX.Playground/CodeGlyphX.Playground.csproj",
      "out": "../../Artifacts/PowerForge.Web.CodeGlyphX.Sample/playground",
      "configuration": "Release",
      "baseHref": "/playground/"
    },
    {
      "task": "overlay",
      "source": "../../Artifacts/PowerForge.Web.CodeGlyphX.Sample/playground/wwwroot",
      "destination": "../../Artifacts/PowerForge.Web.CodeGlyphX.Sample/site/playground",
      "include": "**/*"
    },
    {
      "task": "sitemap",
      "siteRoot": "../../Artifacts/PowerForge.Web.CodeGlyphX.Sample/site",
      "baseUrl": "https://codeglyphx.com",
      "html": true,
      "htmlTemplate": "./themes/nova/templates/sitemap.html",
      "htmlTitle": "CodeGlyphX Sitemap",
      "entries": [
        { "path": "/", "priority": "1.0", "changefreq": "weekly" },
        { "path": "/playground/", "priority": "0.9", "changefreq": "weekly" },
        { "path": "/docs/", "priority": "0.9", "changefreq": "weekly" },
        { "path": "/benchmarks/", "priority": "0.85", "changefreq": "monthly" },
        { "path": "/faq/", "priority": "0.8", "changefreq": "monthly" },
        { "path": "/showcase/", "priority": "0.7", "changefreq": "monthly" }
      ]
    },
    {
      "task": "optimize",
      "siteRoot": "../../Artifacts/PowerForge.Web.CodeGlyphX.Sample/site",
      "minifyHtml": true,
      "minifyCss": true,
      "minifyJs": true
    }
  ]
}
