{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "powerforge.web.pipelinespec.schema.json",
  "title": "PowerForge Web PipelineSpec (schema v1)",
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "$schema": { "type": "string" },
    "Extends": {
      "oneOf": [
        { "type": "string", "minLength": 1 },
        { "type": "array", "minItems": 1, "items": { "type": "string", "minLength": 1 } }
      ],
      "description": "Optional base pipeline config path(s) to merge before this file. Child values override and steps arrays are appended."
    },
    "extends": {
      "oneOf": [
        { "type": "string", "minLength": 1 },
        { "type": "array", "minItems": 1, "items": { "type": "string", "minLength": 1 } }
      ],
      "description": "Alias for Extends."
    },
    "SchemaVersion": { "type": "integer", "minimum": 1 },
    "cache": { "type": "boolean" },
    "cachePath": { "type": "string" },
    "profile": { "type": "boolean" },
    "profilePath": { "type": "string" },
    "steps": {
      "type": "array",
      "minItems": 1,
      "items": { "$ref": "#/$defs/PipelineStep" }
    }
  },
  "anyOf": [
    { "required": ["steps"] },
    { "required": ["extends"] },
    { "required": ["Extends"] }
  ],
  "$defs": {
    "PipelineStep": {
      "type": "object",
      "oneOf": [
        { "$ref": "#/$defs/BuildStep" },
        { "$ref": "#/$defs/NavExportStep" },
        { "$ref": "#/$defs/VerifyStep" },
        { "$ref": "#/$defs/DoctorStep" },
        { "$ref": "#/$defs/MarkdownFixStep" },
        { "$ref": "#/$defs/ApiDocsStep" },
        { "$ref": "#/$defs/XrefMergeStep" },
        { "$ref": "#/$defs/ChangelogStep" },
        { "$ref": "#/$defs/VersionHubStep" },
        { "$ref": "#/$defs/PackageHubStep" },
        { "$ref": "#/$defs/LlmsStep" },
        { "$ref": "#/$defs/CompatMatrixStep" },
        { "$ref": "#/$defs/SitemapStep" },
        { "$ref": "#/$defs/OptimizeStep" },
        { "$ref": "#/$defs/AuditStep" },
        { "$ref": "#/$defs/SeoDoctorStep" },
        { "$ref": "#/$defs/DotNetBuildStep" },
        { "$ref": "#/$defs/DotNetPublishStep" },
        { "$ref": "#/$defs/OverlayStep" },
        { "$ref": "#/$defs/HostingStep" },
        { "$ref": "#/$defs/CloudflareStep" },
        { "$ref": "#/$defs/IndexNowStep" },
        { "$ref": "#/$defs/HookStep" },
        { "$ref": "#/$defs/HtmlTransformStep" },
        { "$ref": "#/$defs/DataTransformStep" },
        { "$ref": "#/$defs/ModelTransformStep" },
        { "$ref": "#/$defs/ExecStep" },
        { "$ref": "#/$defs/GitSyncStep" },
        { "$ref": "#/$defs/SourcesSyncStep" }
      ]
    },
    "BuildStep": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "task": { "const": "build" },
        "id": { "type": "string" },
        "dependsOn": { "oneOf": [{ "type": "string" }, { "type": "array", "items": { "type": "string" } }] },
        "mode": { "type": "string" },
        "modes": { "type": "array", "items": { "type": "string" } },
        "onlyModes": { "type": "array", "items": { "type": "string" } },
        "only-modes": { "type": "array", "items": { "type": "string" } },
        "skipModes": { "type": "array", "items": { "type": "string" } },
        "skip-modes": { "type": "array", "items": { "type": "string" } },
        "config": { "type": "string" },
        "out": { "type": "string" },
        "output": { "type": "string" },
        "clean": {
          "type": "boolean",
          "description": "When true, delete existing output contents before writing new build artifacts."
        }
      },
      "required": ["task", "config", "out"]
    },
    "NavExportStep": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "task": { "const": "nav-export" },
        "id": { "type": "string" },
        "dependsOn": { "oneOf": [{ "type": "string" }, { "type": "array", "items": { "type": "string" } }] },
        "mode": { "type": "string" },
        "modes": { "type": "array", "items": { "type": "string" } },
        "onlyModes": { "type": "array", "items": { "type": "string" } },
        "only-modes": { "type": "array", "items": { "type": "string" } },
        "skipModes": { "type": "array", "items": { "type": "string" } },
        "skip-modes": { "type": "array", "items": { "type": "string" } },
        "config": { "type": "string" },
        "out": { "type": "string", "description": "Output file path for site-nav export (defaults to static/<dataRoot>/site-nav.json under site root)." },
        "output": { "type": "string", "description": "Alias for out." },
        "overwrite": { "type": "boolean", "description": "When true, overwrite an existing site-nav export even if it is not marked generated:true." }
      },
      "required": ["task", "config"]
    },
    "VerifyStep": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "task": { "const": "verify" },
        "id": { "type": "string" },
        "dependsOn": { "oneOf": [{ "type": "string" }, { "type": "array", "items": { "type": "string" } }] },
        "mode": { "type": "string" },
        "modes": { "type": "array", "items": { "type": "string" } },
        "onlyModes": { "type": "array", "items": { "type": "string" } },
        "only-modes": { "type": "array", "items": { "type": "string" } },
        "skipModes": { "type": "array", "items": { "type": "string" } },
        "skip-modes": { "type": "array", "items": { "type": "string" } },
        "config": { "type": "string" },
        "suppressWarnings": { "type": "array", "items": { "type": "string" } },
        "failOnWarnings": { "type": "boolean" },
        "failOnNavLint": { "type": "boolean" },
        "failOnNavLintWarnings": { "type": "boolean" },
        "failOnThemeContract": { "type": "boolean" },
        "baseline": { "type": "string", "description": "Path to a verify baseline file (relative to pipeline json unless absolute). Must resolve under site root." },
        "baselinePath": { "type": "string", "description": "Alias for baseline." },
        "baselineGenerate": { "type": "boolean", "description": "When true, write the verify baseline file from current warnings." },
        "baselineUpdate": { "type": "boolean", "description": "When true, merge current warnings into an existing verify baseline file." },
        "failOnNewWarnings": { "type": "boolean", "description": "When true, fail only when verify emits warnings not present in baseline." },
        "failOnNew": { "type": "boolean", "description": "Alias for failOnNewWarnings." },
        "warningPreviewCount": { "type": "integer", "minimum": 0, "description": "How many warnings to include in the thrown failure summary (default 2 in dev/fast, 5 otherwise)." },
        "errorPreviewCount": { "type": "integer", "minimum": 0, "description": "How many errors to include in the thrown failure summary (default 2 in dev/fast, 5 otherwise)." }
      },
      "required": ["task", "config"]
    },
    "DoctorStep": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "task": { "const": "doctor" },
        "id": { "type": "string" },
        "dependsOn": { "oneOf": [{ "type": "string" }, { "type": "array", "items": { "type": "string" } }] },
        "mode": { "type": "string" },
        "modes": { "type": "array", "items": { "type": "string" } },
        "onlyModes": { "type": "array", "items": { "type": "string" } },
        "only-modes": { "type": "array", "items": { "type": "string" } },
        "skipModes": { "type": "array", "items": { "type": "string" } },
        "skip-modes": { "type": "array", "items": { "type": "string" } },
        "config": { "type": "string" },
        "siteRoot": { "type": "string" },
        "site-root": { "type": "string" },
        "out": { "type": "string" },
        "output": { "type": "string" },
        "build": { "type": "boolean" },
        "verify": { "type": "boolean" },
        "audit": { "type": "boolean" },
        "noBuild": { "type": "boolean" },
        "noVerify": { "type": "boolean" },
        "noAudit": { "type": "boolean" },
        "suppressWarnings": { "type": "array", "items": { "type": "string" } },
        "failOnWarnings": { "type": "boolean" },
        "failOnNavLint": { "type": "boolean" },
        "failOnNavLintWarnings": { "type": "boolean" },
        "failOnThemeContract": { "type": "boolean" },
        "include": { "type": "string" },
        "exclude": { "type": "string" },
        "maxTotalFiles": { "type": "integer", "minimum": 0, "description": "Maximum allowed total file count under siteRoot (0 disables)." },
        "max-total-files": { "type": "integer", "minimum": 0, "description": "Alias for maxTotalFiles." },
        "suppressIssues": { "type": "array", "items": { "type": "string" }, "description": "Audit issue suppressions (same matching rules as audit step). Supports codes like PFAUDIT.BUDGET plus substring/wildcard/re:... matching." },
        "suppress-issues": { "type": "array", "items": { "type": "string" }, "description": "Alias for suppressIssues." },
        "noDefaultExclude": { "type": "boolean" },
        "ignoreNav": { "type": "string" },
        "ignore-nav": { "type": "string" },
        "ignoreMedia": { "type": "string" },
        "ignore-media": { "type": "string" },
        "noDefaultIgnoreNav": { "type": "boolean" },
        "noDefaultIgnoreMedia": { "type": "boolean" },
        "navSelector": { "type": "string" },
        "nav-selector": { "type": "string" },
        "navRequired": { "type": "boolean" },
        "navOptional": { "type": "boolean" },
        "navIgnorePrefixes": { "type": "string" },
        "nav-ignore-prefixes": { "type": "string" },
        "navIgnorePrefix": { "type": "string" },
        "nav-ignore-prefix": { "type": "string" },
        "navRequiredLinks": { "type": "string" },
        "nav-required-links": { "type": "string" },
        "navRequiredLink": { "type": "string" },
        "nav-required-link": { "type": "string" },
        "navProfiles": { "type": "string" },
        "nav-profiles": { "type": "string" },
        "mediaProfiles": { "type": "string" },
        "media-profiles": { "type": "string" },
        "minNavCoveragePercent": { "type": "integer", "minimum": 0, "maximum": 100 },
        "min-nav-coverage": { "type": "integer", "minimum": 0, "maximum": 100 },
        "requiredRoutes": { "type": "string" },
        "required-routes": { "type": "string" },
        "requiredRoute": { "type": "string" },
        "required-route": { "type": "string" },
        "checkLinks": { "type": "boolean" },
        "checkAssets": { "type": "boolean" },
        "checkNav": { "type": "boolean" },
        "checkTitles": { "type": "boolean" },
        "checkDuplicateIds": { "type": "boolean" },
        "checkHtmlStructure": { "type": "boolean" },
        "summary": { "type": "boolean" },
        "summaryPath": { "type": "string" },
        "summaryMaxIssues": { "type": "integer", "minimum": 0 },
        "sarif": { "type": "boolean" },
        "sarifPath": { "type": "string" },
        "sarif-path": { "type": "string" },
        "navCanonicalPath": { "type": "string" },
        "navCanonical": { "type": "string" },
        "navCanonicalSelector": { "type": "string" },
        "navCanonicalRequired": { "type": "boolean" },
        "checkUtf8": { "type": "boolean" },
        "checkMetaCharset": { "type": "boolean" },
        "checkUnicodeReplacementChars": { "type": "boolean" },
        "checkHeadingOrder": { "type": "boolean" },
        "checkSeoMeta": { "type": "boolean", "description": "Validate canonical/OpenGraph/Twitter metadata consistency." },
        "check-seo-meta": { "type": "boolean", "description": "Alias for checkSeoMeta." },
        "checkLinkPurposeConsistency": { "type": "boolean" },
        "checkLinkPurpose": { "type": "boolean" },
        "checkMediaEmbeds": { "type": "boolean" },
        "checkMedia": { "type": "boolean" },
        "requireExplicitChecks": {
          "type": "boolean",
          "description": "When true, require explicit values for compatibility-sensitive checks (checkSeoMeta, checkNetworkHints, checkRenderBlockingResources, checkHeadingOrder, checkLinkPurposeConsistency, checkMediaEmbeds)."
        },
        "require-explicit-checks": {
          "type": "boolean",
          "description": "Alias for requireExplicitChecks."
        },
        "checkNetworkHints": { "type": "boolean" },
        "checkRenderBlockingResources": { "type": "boolean" },
        "checkRenderBlocking": { "type": "boolean" },
        "maxHeadBlockingResources": { "type": "integer", "minimum": 0 },
        "max-head-blocking": { "type": "integer", "minimum": 0 },
        "rendered": { "type": "boolean" },
        "renderedEngine": { "type": "string" },
        "renderedEnsureInstalled": { "type": "boolean" },
        "renderedHeadless": { "type": "boolean" },
        "renderedBaseUrl": { "type": "string" },
        "renderedHost": { "type": "string" },
        "renderedPort": { "type": "integer", "minimum": 0 },
        "renderedServe": { "type": "boolean" },
        "renderedMaxPages": { "type": "integer", "minimum": 0 },
        "renderedTimeoutMs": { "type": "integer", "minimum": 0 },
        "renderedCheckConsoleErrors": { "type": "boolean" },
        "renderedCheckConsoleWarnings": { "type": "boolean" },
        "renderedCheckFailedRequests": { "type": "boolean" },
        "renderedCheckContrast": { "type": "boolean" },
        "renderedContrastMinRatio": { "type": "number", "exclusiveMinimum": 0 },
        "renderedContrastMaxFindings": { "type": "integer", "minimum": 1 },
        "renderedInclude": { "type": "string" },
        "renderedExclude": { "type": "string" },
        "failOnIssueCodes": { "type": "string", "description": "Comma-separated issue code/hint patterns that fail audit (for example media-img-dimensions or PFAUDIT.MEDIA.MEDIA-IMG-DIMENSIONS)." },
        "failIssueCodes": { "type": "string", "description": "Alias for failOnIssueCodes." },
        "failOnIssues": { "type": "string", "description": "Alias for failOnIssueCodes." },
        "failIssues": { "type": "string", "description": "Alias for failOnIssueCodes." },
        "errorPreviewCount": { "type": "integer", "minimum": 0 },

        "verifyBaseline": { "type": "string", "description": "Path to a verify baseline file used by the embedded verify run. Must resolve under site root." },
        "verifyBaselinePath": { "type": "string", "description": "Alias for verifyBaseline." },
        "verifyBaselineGenerate": { "type": "boolean", "description": "When true, write the verify baseline file from current verify warnings." },
        "verifyBaselineUpdate": { "type": "boolean", "description": "When true, merge current verify warnings into an existing baseline file." },
        "verifyFailOnNewWarnings": { "type": "boolean", "description": "When true, fail only when verify emits warnings not present in baseline." },
        "verifyFailOnNew": { "type": "boolean", "description": "Alias for verifyFailOnNewWarnings." },
        "verifyWarningPreviewCount": { "type": "integer", "minimum": 0, "description": "How many verify warnings to include in the thrown failure summary (default 2 in dev/fast, 5 otherwise)." },
        "verifyErrorPreviewCount": { "type": "integer", "minimum": 0, "description": "How many verify errors to include in the thrown failure summary (default 2 in dev/fast, 5 otherwise)." }
      },
      "required": ["task", "config"]
    },
    "MarkdownFixStep": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "task": { "const": "markdown-fix" },
        "id": { "type": "string" },
        "dependsOn": { "oneOf": [{ "type": "string" }, { "type": "array", "items": { "type": "string" } }] },
        "mode": { "type": "string" },
        "modes": { "type": "array", "items": { "type": "string" } },
        "onlyModes": { "type": "array", "items": { "type": "string" } },
        "only-modes": { "type": "array", "items": { "type": "string" } },
        "skipModes": { "type": "array", "items": { "type": "string" } },
        "skip-modes": { "type": "array", "items": { "type": "string" } },
        "config": { "type": "string" },
        "root": { "type": "string" },
        "path": { "type": "string" },
        "siteRoot": { "type": "string" },
        "include": { "type": "string" },
        "exclude": { "type": "string" },
        "apply": { "type": "boolean" }
      },
      "required": ["task"]
    },
    "CloudflareStep": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "task": { "const": "cloudflare" },
        "id": { "type": "string" },
        "dependsOn": { "oneOf": [{ "type": "string" }, { "type": "array", "items": { "type": "string" } }] },
        "mode": { "type": "string" },
        "modes": { "type": "array", "items": { "type": "string" } },
        "onlyModes": { "type": "array", "items": { "type": "string" } },
        "only-modes": { "type": "array", "items": { "type": "string" } },
        "skipModes": { "type": "array", "items": { "type": "string" } },
        "skip-modes": { "type": "array", "items": { "type": "string" } },

        "operation": { "type": "string", "enum": ["purge", "verify"], "description": "Cloudflare operation. Defaults to purge." },
        "action": { "type": "string", "enum": ["purge", "verify"], "description": "Alias for operation." },
        "siteConfig": { "type": "string", "description": "Path to site.json used to auto-resolve baseUrl and route profiles." },
        "site-config": { "type": "string", "description": "Alias for siteConfig." },
        "config": { "type": "string", "description": "Alias for siteConfig." },
        "zoneId": { "type": "string" },
        "zone-id": { "type": "string" },
        "tokenEnv": { "type": "string", "description": "Env var name containing a Cloudflare API token (recommended). Defaults to CLOUDFLARE_API_TOKEN." },
        "token-env": { "type": "string", "description": "Alias for tokenEnv." },
        "token": { "type": "string", "description": "Inline API token (discouraged; prefer tokenEnv and CI secrets)." },
        "baseUrl": { "type": "string", "description": "Base URL used to combine with paths (required when using paths)." },
        "base-url": { "type": "string", "description": "Alias for baseUrl." },
        "paths": { "type": "string", "description": "Comma-separated paths to target (combined with baseUrl)." },
        "path": { "type": "string", "description": "Alias for paths." },
        "urls": { "type": "string", "description": "Comma-separated full URLs to target." },
        "url": { "type": "string", "description": "Alias for urls." },
        "purgeEverything": { "type": "boolean" },
        "purge-everything": { "type": "boolean" },
        "dryRun": { "type": "boolean" },
        "dry-run": { "type": "boolean" },
        "warmup": { "type": "integer", "minimum": 0, "maximum": 10, "description": "Verify operation: warm-up requests per URL before status check." },
        "warmupRequests": { "type": "integer", "minimum": 0, "maximum": 10, "description": "Alias for warmup." },
        "warmup-requests": { "type": "integer", "minimum": 0, "maximum": 10, "description": "Alias for warmup." },
        "timeoutMs": { "type": "integer", "minimum": 1000, "maximum": 120000, "description": "Verify operation: HTTP timeout in milliseconds." },
        "timeout-ms": { "type": "integer", "minimum": 1000, "maximum": 120000, "description": "Alias for timeoutMs." },
        "timeout": { "type": "integer", "minimum": 1000, "maximum": 120000, "description": "Alias for timeoutMs." },
        "allowStatuses": { "type": "string", "description": "Verify operation: allowed CF-Cache-Status values (comma-separated)." },
        "allow-statuses": { "type": "string", "description": "Alias for allowStatuses." },
        "allowStatus": { "type": "string", "description": "Alias for allowStatuses." },
        "allow-status": { "type": "string", "description": "Alias for allowStatuses." },
        "allow": { "type": "string", "description": "Alias for allowStatuses." },
        "reportPath": { "type": "string", "description": "Verify operation: optional JSON report output path." },
        "report-path": { "type": "string", "description": "Alias for reportPath." },
        "summaryPath": { "type": "string", "description": "Verify operation: optional Markdown summary output path." },
        "summary-path": { "type": "string", "description": "Alias for summaryPath." }
      },
      "required": ["task"],
      "allOf": [
        {
          "if": {
            "not": {
              "anyOf": [
                {
                  "required": ["operation"],
                  "properties": { "operation": { "const": "verify" } }
                },
                {
                  "required": ["action"],
                  "properties": { "action": { "const": "verify" } }
                }
              ]
            }
          },
          "then": {
            "anyOf": [
              { "required": ["zoneId"] },
              { "required": ["zone-id"] }
            ]
          }
        }
      ]
    },
    "IndexNowStep": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "task": { "const": "indexnow" },
        "id": { "type": "string" },
        "dependsOn": { "oneOf": [{ "type": "string" }, { "type": "array", "items": { "type": "string" } }] },
        "mode": { "type": "string" },
        "modes": { "type": "array", "items": { "type": "string" } },
        "onlyModes": { "type": "array", "items": { "type": "string" } },
        "only-modes": { "type": "array", "items": { "type": "string" } },
        "skipModes": { "type": "array", "items": { "type": "string" } },
        "skip-modes": { "type": "array", "items": { "type": "string" } },

        "baseUrl": { "type": "string", "description": "Base URL used when converting relative paths to absolute URLs." },
        "base-url": { "type": "string", "description": "Alias for baseUrl." },
        "siteRoot": { "type": "string", "description": "Site output root used with scopeFromBuildUpdated." },
        "site-root": { "type": "string", "description": "Alias for siteRoot." },
        "scopeFromBuildUpdated": { "type": "boolean", "description": "When true (or in --fast mode by default), include HTML files updated by the previous build step." },
        "scope-from-build-updated": { "type": "boolean", "description": "Alias for scopeFromBuildUpdated." },

        "urls": { "type": "string", "description": "Comma-separated absolute URLs to submit." },
        "url": { "type": "string", "description": "Alias for urls." },
        "paths": { "type": "string", "description": "Comma-separated relative paths combined with baseUrl." },
        "path": { "type": "string", "description": "Alias for paths." },
        "urlFile": { "type": "string", "description": "Text file with URLs/paths (one per line)." },
        "url-file": { "type": "string", "description": "Alias for urlFile." },
        "sitemap": { "type": "string", "description": "Optional sitemap.xml path; <loc> entries are submitted." },
        "sitemapPath": { "type": "string", "description": "Alias for sitemap." },
        "sitemap-path": { "type": "string", "description": "Alias for sitemap." },
        "maxUrls": { "type": "integer", "minimum": 0, "description": "Maximum URLs submitted in this step (0 disables limit)." },
        "max-urls": { "type": "integer", "minimum": 0, "description": "Alias for maxUrls." },
        "truncateToMaxUrls": { "type": "boolean", "description": "When true, trim URL list to maxUrls instead of failing." },
        "truncate-to-max-urls": { "type": "boolean", "description": "Alias for truncateToMaxUrls." },

        "endpoint": { "type": "string", "description": "Single IndexNow endpoint URL." },
        "apiEndpoint": { "type": "string", "description": "Alias for endpoint." },
        "endpoints": {
          "oneOf": [
            { "type": "string", "description": "Comma-separated endpoint URLs." },
            { "type": "array", "items": { "type": "string" } }
          ]
        },
        "engine": { "type": "string", "description": "Alias for endpoint." },
        "engines": {
          "oneOf": [
            { "type": "string", "description": "Alias for endpoints." },
            { "type": "array", "items": { "type": "string" } }
          ]
        },
        "host": { "type": "string", "description": "Optional host override for IndexNow payload grouping." },
        "key": { "type": "string", "description": "IndexNow key value." },
        "keyPath": { "type": "string", "description": "Path to file containing key value." },
        "key-path": { "type": "string", "description": "Alias for keyPath." },
        "keyEnv": { "type": "string", "description": "Env var name used when key is not provided. Defaults to INDEXNOW_KEY." },
        "key-env": { "type": "string", "description": "Alias for keyEnv." },
        "keyLocation": { "type": "string", "description": "Absolute/relative key file URL. Defaults to https://<host>/<key>.txt." },
        "key-location": { "type": "string", "description": "Alias for keyLocation." },

        "batchSize": { "type": "integer", "minimum": 1, "description": "URLs per request batch (max 10000)." },
        "batch-size": { "type": "integer", "minimum": 1, "description": "Alias for batchSize." },
        "retry": { "type": "integer", "minimum": 0 },
        "retries": { "type": "integer", "minimum": 0 },
        "retryCount": { "type": "integer", "minimum": 0 },
        "retry-count": { "type": "integer", "minimum": 0 },
        "retryDelayMs": { "type": "integer", "minimum": 0 },
        "retry-delay-ms": { "type": "integer", "minimum": 0 },
        "retryDelay": { "type": "integer", "minimum": 0 },
        "retry-delay": { "type": "integer", "minimum": 0 },
        "timeoutSeconds": { "type": "integer", "minimum": 1 },
        "timeout-seconds": { "type": "integer", "minimum": 1, "description": "Alias for timeoutSeconds." },

        "dryRun": { "type": "boolean" },
        "dry-run": { "type": "boolean", "description": "Alias for dryRun." },
        "continueOnError": { "type": "boolean", "description": "When true, request failures are warnings and step stays green." },
        "failOnRequestError": { "type": "boolean", "description": "Overrides continueOnError behavior." },
        "failOnEmpty": { "type": "boolean", "description": "When true, fail if no URLs are collected." },
        "reportPath": { "type": "string" },
        "report-path": { "type": "string", "description": "Alias for reportPath." },
        "summaryPath": { "type": "string" },
        "summary-path": { "type": "string", "description": "Alias for summaryPath." }
      },
      "required": ["task"]
    },
    "HookStep": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "task": { "const": "hook" },
        "id": { "type": "string" },
        "dependsOn": { "oneOf": [{ "type": "string" }, { "type": "array", "items": { "type": "string" } }] },
        "mode": { "type": "string" },
        "modes": { "type": "array", "items": { "type": "string" } },
        "onlyModes": { "type": "array", "items": { "type": "string" } },
        "only-modes": { "type": "array", "items": { "type": "string" } },
        "skipModes": { "type": "array", "items": { "type": "string" } },
        "skip-modes": { "type": "array", "items": { "type": "string" } },

        "event": { "type": "string", "description": "Hook event name (for example pre-build, post-build)." },
        "hook": { "type": "string", "description": "Alias for event." },
        "name": { "type": "string", "description": "Alias for event." },

        "command": { "type": "string", "description": "Executable/command to run. Trusted pipeline input only." },
        "cmd": { "type": "string", "description": "Alias for command." },
        "file": { "type": "string", "description": "Alias for command." },
        "args": { "type": "string" },
        "arguments": { "type": "string", "description": "Alias for args." },
        "argsList": { "type": "array", "items": { "type": "string" } },
        "args-list": { "type": "array", "items": { "type": "string" }, "description": "Alias for argsList." },
        "argumentsList": { "type": "array", "items": { "type": "string" }, "description": "Alias for argsList." },
        "arguments-list": { "type": "array", "items": { "type": "string" }, "description": "Alias for argsList." },
        "workingDirectory": { "type": "string" },
        "workingDir": { "type": "string", "description": "Alias for workingDirectory." },
        "cwd": { "type": "string", "description": "Alias for workingDirectory." },
        "allowFailure": { "type": "boolean" },
        "continueOnError": { "type": "boolean", "description": "Alias for allowFailure." },
        "timeoutSeconds": { "type": "integer", "minimum": 1 },
        "timeout-seconds": { "type": "integer", "minimum": 1, "description": "Alias for timeoutSeconds." },

        "contextPath": { "type": "string", "description": "Optional JSON context output path. Exposed to the process as POWERFORGE_HOOK_CONTEXT." },
        "context-path": { "type": "string", "description": "Alias for contextPath." },
        "context": { "type": "string", "description": "Alias for contextPath." },
        "stdoutPath": { "type": "string", "description": "Optional file path to write captured stdout." },
        "stdout-path": { "type": "string", "description": "Alias for stdoutPath." },
        "stdout": { "type": "string", "description": "Alias for stdoutPath." },
        "stderrPath": { "type": "string", "description": "Optional file path to write captured stderr." },
        "stderr-path": { "type": "string", "description": "Alias for stderrPath." },
        "stderr": { "type": "string", "description": "Alias for stderrPath." },

        "env": {
          "type": "object",
          "description": "Environment variables injected into the hook process.",
          "additionalProperties": {
            "oneOf": [
              { "type": "string" },
              { "type": "number" },
              { "type": "boolean" }
            ]
          }
        },
        "environment": {
          "type": "object",
          "description": "Alias for env.",
          "additionalProperties": {
            "oneOf": [
              { "type": "string" },
              { "type": "number" },
              { "type": "boolean" }
            ]
          }
        }
      },
      "required": ["task"],
      "allOf": [
        {
          "anyOf": [
            { "required": ["event"] },
            { "required": ["hook"] },
            { "required": ["name"] }
          ]
        },
        {
          "anyOf": [
            { "required": ["command"] },
            { "required": ["cmd"] },
            { "required": ["file"] }
          ]
        }
      ]
    },
    "HtmlTransformStep": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "task": { "const": "html-transform" },
        "id": { "type": "string" },
        "dependsOn": { "oneOf": [{ "type": "string" }, { "type": "array", "items": { "type": "string" } }] },
        "mode": { "type": "string" },
        "modes": { "type": "array", "items": { "type": "string" } },
        "onlyModes": { "type": "array", "items": { "type": "string" } },
        "only-modes": { "type": "array", "items": { "type": "string" } },
        "skipModes": { "type": "array", "items": { "type": "string" } },
        "skip-modes": { "type": "array", "items": { "type": "string" } },

        "siteRoot": { "type": "string" },
        "site-root": { "type": "string" },

        "command": { "type": "string", "description": "Executable/command to run. Trusted pipeline input only." },
        "cmd": { "type": "string", "description": "Alias for command." },
        "file": { "type": "string", "description": "Alias for command." },
        "args": { "type": "string" },
        "arguments": { "type": "string", "description": "Alias for args." },
        "argsList": { "type": "array", "items": { "type": "string" } },
        "args-list": { "type": "array", "items": { "type": "string" }, "description": "Alias for argsList." },
        "argumentsList": { "type": "array", "items": { "type": "string" }, "description": "Alias for argsList." },
        "arguments-list": { "type": "array", "items": { "type": "string" }, "description": "Alias for argsList." },
        "workingDirectory": { "type": "string" },
        "workingDir": { "type": "string", "description": "Alias for workingDirectory." },
        "cwd": { "type": "string", "description": "Alias for workingDirectory." },
        "timeoutSeconds": { "type": "integer", "minimum": 1 },
        "timeout-seconds": { "type": "integer", "minimum": 1, "description": "Alias for timeoutSeconds." },
        "allowFailure": { "type": "boolean" },
        "continueOnError": { "type": "boolean", "description": "Alias for allowFailure." },

        "include": {
          "oneOf": [
            { "type": "string", "description": "Comma-separated include patterns (relative to siteRoot)." },
            { "type": "array", "items": { "type": "string" } }
          ]
        },
        "includes": {
          "oneOf": [
            { "type": "string", "description": "Alias for include." },
            { "type": "array", "items": { "type": "string" } }
          ]
        },
        "includePatterns": {
          "oneOf": [
            { "type": "string", "description": "Alias for include." },
            { "type": "array", "items": { "type": "string" } }
          ]
        },
        "include-patterns": {
          "oneOf": [
            { "type": "string", "description": "Alias for includePatterns." },
            { "type": "array", "items": { "type": "string" } }
          ]
        },
        "exclude": {
          "oneOf": [
            { "type": "string", "description": "Comma-separated exclude patterns (relative to siteRoot)." },
            { "type": "array", "items": { "type": "string" } }
          ]
        },
        "excludes": {
          "oneOf": [
            { "type": "string", "description": "Alias for exclude." },
            { "type": "array", "items": { "type": "string" } }
          ]
        },
        "excludePatterns": {
          "oneOf": [
            { "type": "string", "description": "Alias for exclude." },
            { "type": "array", "items": { "type": "string" } }
          ]
        },
        "exclude-patterns": {
          "oneOf": [
            { "type": "string", "description": "Alias for excludePatterns." },
            { "type": "array", "items": { "type": "string" } }
          ]
        },

        "extensions": {
          "oneOf": [
            { "type": "string", "description": "Comma-separated file extensions to process (default .html,.htm)." },
            { "type": "array", "items": { "type": "string" } }
          ]
        },
        "ext": {
          "oneOf": [
            { "type": "string", "description": "Alias for extensions." },
            { "type": "array", "items": { "type": "string" } }
          ]
        },
        "fileExtensions": {
          "oneOf": [
            { "type": "string", "description": "Alias for extensions." },
            { "type": "array", "items": { "type": "string" } }
          ]
        },
        "file-extensions": {
          "oneOf": [
            { "type": "string", "description": "Alias for fileExtensions." },
            { "type": "array", "items": { "type": "string" } }
          ]
        },
        "maxFiles": { "type": "integer", "minimum": 0 },
        "max-files": { "type": "integer", "minimum": 0, "description": "Alias for maxFiles." },
        "writeMode": { "type": "string", "description": "Output mode: inplace (default) or stdout." },
        "write-mode": { "type": "string", "description": "Alias for writeMode." },
        "stdin": { "type": "boolean", "description": "When true, pass original file content to process stdin." },
        "passContentToStdin": { "type": "boolean", "description": "Alias for stdin." },
        "pass-content-to-stdin": { "type": "boolean", "description": "Alias for stdin." },
        "passToStdin": { "type": "boolean", "description": "Alias for stdin." },
        "requireOutput": { "type": "boolean", "description": "When writeMode=stdout, require non-empty stdout output." },
        "require-output": { "type": "boolean", "description": "Alias for requireOutput." },
        "reportPath": { "type": "string", "description": "Optional JSON report path for transform results." },
        "report-path": { "type": "string", "description": "Alias for reportPath." },
        "env": {
          "type": "object",
          "description": "Environment variables injected into each transform process.",
          "additionalProperties": {
            "oneOf": [
              { "type": "string" },
              { "type": "number" },
              { "type": "boolean" }
            ]
          }
        },
        "environment": {
          "type": "object",
          "description": "Alias for env.",
          "additionalProperties": {
            "oneOf": [
              { "type": "string" },
              { "type": "number" },
              { "type": "boolean" }
            ]
          }
        }
      },
      "required": ["task"],
      "allOf": [
        {
          "anyOf": [
            { "required": ["siteRoot"] },
            { "required": ["site-root"] }
          ]
        },
        {
          "anyOf": [
            { "required": ["command"] },
            { "required": ["cmd"] },
            { "required": ["file"] }
          ]
        }
      ]
    },
    "DataTransformStep": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "task": { "const": "data-transform" },
        "id": { "type": "string" },
        "dependsOn": { "oneOf": [{ "type": "string" }, { "type": "array", "items": { "type": "string" } }] },
        "mode": { "type": "string" },
        "modes": { "type": "array", "items": { "type": "string" } },
        "onlyModes": { "type": "array", "items": { "type": "string" } },
        "only-modes": { "type": "array", "items": { "type": "string" } },
        "skipModes": { "type": "array", "items": { "type": "string" } },
        "skip-modes": { "type": "array", "items": { "type": "string" } },
        "inputMode": { "type": "string", "description": "Input mode: stdin (default) or file." },
        "input-mode": { "type": "string", "description": "Alias for inputMode." },
        "transformMode": { "type": "string", "description": "Alias for inputMode." },
        "transform-mode": { "type": "string", "description": "Alias for inputMode." },

        "input": { "type": "string" },
        "inputPath": { "type": "string", "description": "Alias for input." },
        "input-path": { "type": "string", "description": "Alias for input." },
        "source": { "type": "string", "description": "Alias for input." },
        "sourcePath": { "type": "string", "description": "Alias for input." },
        "source-path": { "type": "string", "description": "Alias for input." },

        "out": { "type": "string" },
        "output": { "type": "string", "description": "Alias for out." },
        "outputPath": { "type": "string", "description": "Alias for out." },
        "output-path": { "type": "string", "description": "Alias for out." },
        "destination": { "type": "string", "description": "Alias for out." },
        "dest": { "type": "string", "description": "Alias for out." },

        "command": { "type": "string" },
        "cmd": { "type": "string", "description": "Alias for command." },
        "file": { "type": "string", "description": "Alias for command." },
        "args": { "type": "string" },
        "arguments": { "type": "string", "description": "Alias for args." },
        "argsList": { "type": "array", "items": { "type": "string" } },
        "args-list": { "type": "array", "items": { "type": "string" }, "description": "Alias for argsList." },
        "argumentsList": { "type": "array", "items": { "type": "string" }, "description": "Alias for argsList." },
        "arguments-list": { "type": "array", "items": { "type": "string" }, "description": "Alias for argsList." },
        "workingDirectory": { "type": "string" },
        "workingDir": { "type": "string", "description": "Alias for workingDirectory." },
        "cwd": { "type": "string", "description": "Alias for workingDirectory." },
        "timeoutSeconds": { "type": "integer", "minimum": 1 },
        "timeout-seconds": { "type": "integer", "minimum": 1, "description": "Alias for timeoutSeconds." },
        "allowFailure": { "type": "boolean" },
        "continueOnError": { "type": "boolean", "description": "Alias for allowFailure." },

        "writeMode": { "type": "string", "description": "Output mode: stdout (default) or passthrough." },
        "write-mode": { "type": "string", "description": "Alias for writeMode." },
        "requireOutput": { "type": "boolean", "description": "Require output content/file after successful run (default true)." },
        "require-output": { "type": "boolean", "description": "Alias for requireOutput." },
        "reportPath": { "type": "string", "description": "Optional JSON report path." },
        "report-path": { "type": "string", "description": "Alias for reportPath." },

        "env": {
          "type": "object",
          "description": "Environment variables injected into the transform process.",
          "additionalProperties": {
            "oneOf": [
              { "type": "string" },
              { "type": "number" },
              { "type": "boolean" }
            ]
          }
        },
        "environment": {
          "type": "object",
          "description": "Alias for env.",
          "additionalProperties": {
            "oneOf": [
              { "type": "string" },
              { "type": "number" },
              { "type": "boolean" }
            ]
          }
        }
      },
      "required": ["task"],
      "allOf": [
        {
          "anyOf": [
            { "required": ["input"] },
            { "required": ["inputPath"] },
            { "required": ["input-path"] },
            { "required": ["source"] },
            { "required": ["sourcePath"] },
            { "required": ["source-path"] }
          ]
        },
        {
          "anyOf": [
            { "required": ["out"] },
            { "required": ["output"] },
            { "required": ["outputPath"] },
            { "required": ["output-path"] },
            { "required": ["destination"] },
            { "required": ["dest"] }
          ]
        },
        {
          "anyOf": [
            { "required": ["command"] },
            { "required": ["cmd"] },
            { "required": ["file"] }
          ]
        }
      ]
    },
    "ModelTransformStep": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "task": { "const": "model-transform" },
        "id": { "type": "string" },
        "dependsOn": { "oneOf": [{ "type": "string" }, { "type": "array", "items": { "type": "string" } }] },
        "mode": { "type": "string" },
        "modes": { "type": "array", "items": { "type": "string" } },
        "onlyModes": { "type": "array", "items": { "type": "string" } },
        "only-modes": { "type": "array", "items": { "type": "string" } },
        "skipModes": { "type": "array", "items": { "type": "string" } },
        "skip-modes": { "type": "array", "items": { "type": "string" } },

        "input": { "type": "string" },
        "inputPath": { "type": "string", "description": "Alias for input." },
        "input-path": { "type": "string", "description": "Alias for input." },
        "source": { "type": "string", "description": "Alias for input." },
        "sourcePath": { "type": "string", "description": "Alias for input." },
        "source-path": { "type": "string", "description": "Alias for input." },

        "out": { "type": "string" },
        "output": { "type": "string", "description": "Alias for out." },
        "outputPath": { "type": "string", "description": "Alias for out." },
        "output-path": { "type": "string", "description": "Alias for out." },
        "destination": { "type": "string", "description": "Alias for out." },
        "dest": { "type": "string", "description": "Alias for out." },
        "reportPath": { "type": "string", "description": "Optional JSON report path." },
        "report-path": { "type": "string", "description": "Alias for reportPath." },
        "strict": { "type": "boolean", "description": "When true, fail on unsupported/missing transform targets." },
        "pretty": { "type": "boolean", "description": "When true, write indented JSON output." },
        "validateJson": { "type": "boolean", "description": "When true, validate transformed output JSON before writing." },
        "validate-json": { "type": "boolean", "description": "Alias for validateJson." },

        "operations": {
          "type": "array",
          "minItems": 1,
          "items": { "$ref": "#/$defs/ModelTransformOperation" }
        },
        "ops": {
          "type": "array",
          "description": "Alias for operations.",
          "items": { "$ref": "#/$defs/ModelTransformOperation" }
        },
        "transforms": {
          "type": "array",
          "description": "Alias for operations.",
          "items": { "$ref": "#/$defs/ModelTransformOperation" }
        }
      },
      "required": ["task"],
      "allOf": [
        {
          "anyOf": [
            { "required": ["input"] },
            { "required": ["inputPath"] },
            { "required": ["input-path"] },
            { "required": ["source"] },
            { "required": ["sourcePath"] },
            { "required": ["source-path"] }
          ]
        },
        {
          "anyOf": [
            { "required": ["out"] },
            { "required": ["output"] },
            { "required": ["outputPath"] },
            { "required": ["output-path"] },
            { "required": ["destination"] },
            { "required": ["dest"] }
          ]
        },
        {
          "anyOf": [
            { "required": ["operations"] },
            { "required": ["ops"] },
            { "required": ["transforms"] }
          ]
        }
      ]
    },
    "ModelTransformOperation": {
      "type": "object",
      "additionalProperties": true,
      "properties": {
        "op": { "type": "string", "description": "Operation name: set, replace, insert, remove, append, merge, copy, move. Paths support dot/index syntax and wildcard selectors like [*] and recursive **." },
        "type": { "type": "string", "description": "Alias for op." },
        "path": { "type": "string", "description": "Target path (dot/index notation, for example 'site.name' or 'items[0]'). Wildcards are supported (for example 'items[*].title') including recursive selectors like '**.enabled'. Use quoted brackets for special property keys, for example \"meta['x.y']\"." },
        "target": { "type": "string", "description": "Alias for path." },
        "from": { "type": "string", "description": "Source path for copy/move operations. Wildcards are supported and pair with wildcard targets in deterministic order." },
        "source": { "type": "string", "description": "Alias for from." },
        "index": { "type": "integer", "minimum": 0, "description": "Insert index for insert operations." },
        "at": { "type": "integer", "minimum": 0, "description": "Alias for index." },
        "minTargets": { "type": "integer", "minimum": 0, "description": "Optional minimum required matched target count for this operation." },
        "min-targets": { "type": "integer", "minimum": 0, "description": "Alias for minTargets." },
        "maxTargets": { "type": "integer", "minimum": 0, "description": "Optional maximum allowed matched target count for this operation." },
        "max-targets": { "type": "integer", "minimum": 0, "description": "Alias for maxTargets." },
        "exactTargets": { "type": "integer", "minimum": 0, "description": "Optional exact matched target count required for this operation (cannot be combined with minTargets/maxTargets)." },
        "exact-targets": { "type": "integer", "minimum": 0, "description": "Alias for exactTargets." },
        "when": { "$ref": "#/$defs/ModelTransformCondition", "description": "Optional condition filter evaluated against each resolved target path before operation execution (for copy/move, evaluated against destination targets)." },
        "where": { "$ref": "#/$defs/ModelTransformCondition", "description": "Alias for when." },
        "fromWhen": { "$ref": "#/$defs/ModelTransformCondition", "description": "Optional source condition filter for copy/move operations, evaluated against resolved source paths." },
        "from-when": { "$ref": "#/$defs/ModelTransformCondition", "description": "Alias for fromWhen." },
        "sourceWhen": { "$ref": "#/$defs/ModelTransformCondition", "description": "Alias for fromWhen." },
        "source-when": { "$ref": "#/$defs/ModelTransformCondition", "description": "Alias for fromWhen." },
        "fromWhere": { "$ref": "#/$defs/ModelTransformCondition", "description": "Alias for fromWhen." },
        "from-where": { "$ref": "#/$defs/ModelTransformCondition", "description": "Alias for fromWhen." },
        "sourceWhere": { "$ref": "#/$defs/ModelTransformCondition", "description": "Alias for fromWhen." },
        "source-where": { "$ref": "#/$defs/ModelTransformCondition", "description": "Alias for fromWhen." },
        "value": {},
        "with": {},
        "item": {}
      },
      "anyOf": [
        {
          "allOf": [
            { "anyOf": [{ "required": ["op"] }, { "required": ["type"] }] },
            {
              "anyOf": [
                { "properties": { "op": { "const": "set" } }, "required": ["op"] },
                { "properties": { "type": { "const": "set" } }, "required": ["type"] }
              ]
            },
            { "anyOf": [{ "required": ["path"] }, { "required": ["target"] }] },
            { "anyOf": [{ "required": ["value"] }, { "required": ["with"] }] }
          ]
        },
        {
          "allOf": [
            { "anyOf": [{ "required": ["op"] }, { "required": ["type"] }] },
            {
              "anyOf": [
                { "properties": { "op": { "const": "replace" } }, "required": ["op"] },
                { "properties": { "type": { "const": "replace" } }, "required": ["type"] }
              ]
            },
            { "anyOf": [{ "required": ["path"] }, { "required": ["target"] }] },
            { "anyOf": [{ "required": ["value"] }, { "required": ["with"] }] }
          ]
        },
        {
          "allOf": [
            { "anyOf": [{ "required": ["op"] }, { "required": ["type"] }] },
            {
              "anyOf": [
                { "properties": { "op": { "const": "insert" } }, "required": ["op"] },
                { "properties": { "type": { "const": "insert" } }, "required": ["type"] }
              ]
            },
            { "anyOf": [{ "required": ["path"] }, { "required": ["target"] }] },
            { "anyOf": [{ "required": ["index"] }, { "required": ["at"] }] },
            { "anyOf": [{ "required": ["value"] }, { "required": ["item"] }] }
          ]
        },
        {
          "allOf": [
            { "anyOf": [{ "required": ["op"] }, { "required": ["type"] }] },
            {
              "anyOf": [
                { "properties": { "op": { "const": "remove" } }, "required": ["op"] },
                { "properties": { "type": { "const": "remove" } }, "required": ["type"] }
              ]
            },
            { "anyOf": [{ "required": ["path"] }, { "required": ["target"] }] }
          ]
        },
        {
          "allOf": [
            { "anyOf": [{ "required": ["op"] }, { "required": ["type"] }] },
            {
              "anyOf": [
                { "properties": { "op": { "const": "append" } }, "required": ["op"] },
                { "properties": { "type": { "const": "append" } }, "required": ["type"] }
              ]
            },
            { "anyOf": [{ "required": ["path"] }, { "required": ["target"] }] },
            { "anyOf": [{ "required": ["value"] }, { "required": ["item"] }] }
          ]
        },
        {
          "allOf": [
            { "anyOf": [{ "required": ["op"] }, { "required": ["type"] }] },
            {
              "anyOf": [
                { "properties": { "op": { "const": "merge" } }, "required": ["op"] },
                { "properties": { "type": { "const": "merge" } }, "required": ["type"] }
              ]
            },
            { "anyOf": [{ "required": ["path"] }, { "required": ["target"] }] },
            { "anyOf": [{ "required": ["value"] }, { "required": ["with"] }] }
          ]
        },
        {
          "allOf": [
            { "anyOf": [{ "required": ["op"] }, { "required": ["type"] }] },
            {
              "anyOf": [
                { "properties": { "op": { "const": "copy" } }, "required": ["op"] },
                { "properties": { "type": { "const": "copy" } }, "required": ["type"] }
              ]
            },
            { "anyOf": [{ "required": ["path"] }, { "required": ["target"] }] },
            { "anyOf": [{ "required": ["from"] }, { "required": ["source"] }] }
          ]
        },
        {
          "allOf": [
            { "anyOf": [{ "required": ["op"] }, { "required": ["type"] }] },
            {
              "anyOf": [
                { "properties": { "op": { "const": "move" } }, "required": ["op"] },
                { "properties": { "type": { "const": "move" } }, "required": ["type"] }
              ]
            },
            { "anyOf": [{ "required": ["path"] }, { "required": ["target"] }] },
            { "anyOf": [{ "required": ["from"] }, { "required": ["source"] }] }
          ]
        }
      ]
    },
    "ModelTransformCondition": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "exists": { "type": "boolean", "description": "Require target to exist (true) or be missing (false)." },
        "present": { "type": "boolean", "description": "Alias for exists." },
        "type": { "type": "string", "description": "Require target value type: object, array, string, number, boolean, null." },
        "kind": { "type": "string", "description": "Alias for type." },
        "equals": { "description": "Require target value to deep-equal this JSON value." },
        "eq": { "description": "Alias for equals." },
        "notEquals": { "description": "Require target value to not deep-equal this JSON value." },
        "not-equals": { "description": "Alias for notEquals." },
        "neq": { "description": "Alias for notEquals." }
      }
    },
    "ExecStep": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "task": { "const": "exec" },
        "id": { "type": "string" },
        "dependsOn": { "oneOf": [{ "type": "string" }, { "type": "array", "items": { "type": "string" } }] },
        "mode": { "type": "string" },
        "modes": { "type": "array", "items": { "type": "string" } },
        "onlyModes": { "type": "array", "items": { "type": "string" } },
        "only-modes": { "type": "array", "items": { "type": "string" } },
        "skipModes": { "type": "array", "items": { "type": "string" } },
        "skip-modes": { "type": "array", "items": { "type": "string" } },
        "command": { "type": "string" },
        "cmd": { "type": "string", "description": "Alias for command." },
        "file": { "type": "string", "description": "Alias for command." },
        "args": { "type": "string" },
        "arguments": { "type": "string", "description": "Alias for args." },
        "argsList": { "type": "array", "items": { "type": "string" } },
        "args-list": { "type": "array", "items": { "type": "string" }, "description": "Alias for argsList." },
        "argumentsList": { "type": "array", "items": { "type": "string" }, "description": "Alias for argsList." },
        "arguments-list": { "type": "array", "items": { "type": "string" }, "description": "Alias for argsList." },
        "workingDirectory": { "type": "string" },
        "workingDir": { "type": "string", "description": "Alias for workingDirectory." },
        "cwd": { "type": "string", "description": "Alias for workingDirectory." },
        "allowFailure": { "type": "boolean" },
        "continueOnError": { "type": "boolean", "description": "Alias for allowFailure." },
        "timeoutSeconds": { "type": "integer", "minimum": 1 },
        "timeout-seconds": { "type": "integer", "minimum": 1, "description": "Alias for timeoutSeconds." }
      },
      "required": ["task"],
      "anyOf": [
        { "required": ["command"] },
        { "required": ["cmd"] },
        { "required": ["file"] }
      ]
    },
    "GitSyncStep": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "task": { "const": "git-sync" },
        "id": { "type": "string" },
        "dependsOn": { "oneOf": [{ "type": "string" }, { "type": "array", "items": { "type": "string" } }] },
        "mode": { "type": "string" },
        "modes": { "type": "array", "items": { "type": "string" } },
        "onlyModes": { "type": "array", "items": { "type": "string" } },
        "only-modes": { "type": "array", "items": { "type": "string" } },
        "skipModes": { "type": "array", "items": { "type": "string" } },
        "skip-modes": { "type": "array", "items": { "type": "string" } },

        "repos": {
          "type": "array",
          "minItems": 1,
          "description": "Batch sync list. Per-item values override top-level defaults.",
          "items": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "repo": { "type": "string", "description": "Repository URL/path or owner/name shorthand." },
              "repository": { "type": "string", "description": "Alias for repo." },
              "url": { "type": "string", "description": "Alias for repo." },
              "destination": { "type": "string" },
              "dest": { "type": "string", "description": "Alias for destination." },
              "path": { "type": "string", "description": "Alias for destination." },
              "ref": { "type": "string", "description": "Branch/tag/commit to check out after sync." },
              "branch": { "type": "string", "description": "Alias for ref." },
              "tag": { "type": "string", "description": "Alias for ref." },
              "commit": { "type": "string", "description": "Alias for ref." },
              "clean": { "type": "boolean", "description": "When true, delete destination before sync." },
              "depth": { "type": "integer", "minimum": 0, "description": "Clone depth (0 = full history)." },
              "fetchTags": { "type": "boolean", "description": "When true, fetch tags when updating an existing checkout." },
              "fetch-tags": { "type": "boolean", "description": "Alias for fetchTags." },
              "sparseCheckout": { "type": "array", "items": { "type": "string" }, "description": "Sparse checkout include paths/patterns." },
              "sparse-checkout": { "type": "array", "items": { "type": "string" }, "description": "Alias for sparseCheckout." },
              "sparsePaths": { "type": "string", "description": "Comma-separated sparse checkout patterns." },
              "sparse-paths": { "type": "string", "description": "Alias for sparsePaths." },
              "tokenEnv": { "type": "string", "description": "Env var containing repository token. Defaults to GITHUB_TOKEN." },
              "token-env": { "type": "string", "description": "Alias for tokenEnv." },
              "token": { "type": "string", "description": "Inline token (discouraged; prefer tokenEnv + CI secrets). Runtime emits [PFWEB.GITSYNC.SECURITY] when present." },
              "authType": { "type": "string", "description": "Authentication mode: auto (default), token, ssh, or none." },
              "auth-type": { "type": "string", "description": "Alias for authType." },
              "auth": { "type": "string", "description": "Alias for authType." },
              "authentication": { "type": "string", "description": "Alias for authType." },
              "username": { "type": "string", "description": "Username paired with token for HTTP Basic auth (default x-access-token)." },
              "repoBaseUrl": { "type": "string", "description": "Base URL/path used to expand owner/repo shorthand (defaults to https://github.com)." },
              "repo-base-url": { "type": "string", "description": "Alias for repoBaseUrl." },
              "repositoryBaseUrl": { "type": "string", "description": "Alias for repoBaseUrl." },
              "repository-base-url": { "type": "string", "description": "Alias for repoBaseUrl." },
              "repoHost": { "type": "string", "description": "Alias for repoBaseUrl (host-only values imply https)." },
              "repo-host": { "type": "string", "description": "Alias for repoBaseUrl." },
              "submodules": { "type": "boolean", "description": "Initialize/update submodules after sync." },
              "submodule": { "type": "boolean", "description": "Alias for submodules." },
              "submodulesRecursive": { "type": "boolean", "description": "When true, update submodules recursively." },
              "submodules-recursive": { "type": "boolean", "description": "Alias for submodulesRecursive." },
              "recursiveSubmodules": { "type": "boolean", "description": "Alias for submodulesRecursive." },
              "recursive-submodules": { "type": "boolean", "description": "Alias for submodulesRecursive." },
              "submoduleDepth": { "type": "integer", "minimum": 0, "description": "Submodule clone depth (0 = full history)." },
              "submodule-depth": { "type": "integer", "minimum": 0, "description": "Alias for submoduleDepth." },
              "retry": { "type": "integer", "minimum": 0, "description": "Retry attempts for git command failures." },
              "retries": { "type": "integer", "minimum": 0, "description": "Alias for retry." },
              "retryCount": { "type": "integer", "minimum": 0, "description": "Alias for retry." },
              "retry-count": { "type": "integer", "minimum": 0, "description": "Alias for retry." },
              "retryDelayMs": { "type": "integer", "minimum": 0, "description": "Delay between retry attempts in milliseconds." },
              "retry-delay-ms": { "type": "integer", "minimum": 0, "description": "Alias for retryDelayMs." },
              "retryDelay": { "type": "integer", "minimum": 0, "description": "Alias for retryDelayMs." },
              "retry-delay": { "type": "integer", "minimum": 0, "description": "Alias for retryDelayMs." },
              "timeoutSeconds": { "type": "integer", "minimum": 1 },
              "timeout-seconds": { "type": "integer", "minimum": 1, "description": "Alias for timeoutSeconds." }
            },
            "allOf": [
              {
                "anyOf": [
                  { "required": ["repo"] },
                  { "required": ["repository"] },
                  { "required": ["url"] }
                ]
              },
              {
                "anyOf": [
                  { "required": ["destination"] },
                  { "required": ["dest"] },
                  { "required": ["path"] }
                ]
              }
            ]
          }
        },
        "repositories": { "type": "array", "items": { "$ref": "#/$defs/GitSyncStep/properties/repos/items" }, "description": "Alias for repos." },

        "repo": { "type": "string", "description": "Repository URL/path or owner/name shorthand." },
        "repository": { "type": "string", "description": "Alias for repo." },
        "url": { "type": "string", "description": "Alias for repo." },
        "destination": { "type": "string" },
        "dest": { "type": "string", "description": "Alias for destination." },
        "path": { "type": "string", "description": "Alias for destination." },
        "ref": { "type": "string", "description": "Branch/tag/commit to check out after sync." },
        "branch": { "type": "string", "description": "Alias for ref." },
        "tag": { "type": "string", "description": "Alias for ref." },
        "commit": { "type": "string", "description": "Alias for ref." },
        "clean": { "type": "boolean", "description": "When true, delete destination before sync." },
        "depth": { "type": "integer", "minimum": 0, "description": "Clone depth (0 = full history)." },
        "fetchTags": { "type": "boolean", "description": "When true, fetch tags when updating an existing checkout." },
        "fetch-tags": { "type": "boolean", "description": "Alias for fetchTags." },
        "sparseCheckout": { "type": "array", "items": { "type": "string" }, "description": "Sparse checkout include paths/patterns." },
        "sparse-checkout": { "type": "array", "items": { "type": "string" }, "description": "Alias for sparseCheckout." },
        "sparsePaths": { "type": "string", "description": "Comma-separated sparse checkout patterns." },
        "sparse-paths": { "type": "string", "description": "Alias for sparsePaths." },
        "tokenEnv": { "type": "string", "description": "Env var containing repository token. Defaults to GITHUB_TOKEN." },
        "token-env": { "type": "string", "description": "Alias for tokenEnv." },
        "token": { "type": "string", "description": "Inline token (discouraged; prefer tokenEnv + CI secrets). Runtime emits [PFWEB.GITSYNC.SECURITY] when present." },
        "authType": { "type": "string", "description": "Authentication mode: auto (default), token, ssh, or none." },
        "auth-type": { "type": "string", "description": "Alias for authType." },
        "auth": { "type": "string", "description": "Alias for authType." },
        "authentication": { "type": "string", "description": "Alias for authType." },
        "username": { "type": "string", "description": "Username paired with token for HTTP Basic auth (default x-access-token)." },
        "repoBaseUrl": { "type": "string", "description": "Base URL/path used to expand owner/repo shorthand (defaults to https://github.com)." },
        "repo-base-url": { "type": "string", "description": "Alias for repoBaseUrl." },
        "repositoryBaseUrl": { "type": "string", "description": "Alias for repoBaseUrl." },
        "repository-base-url": { "type": "string", "description": "Alias for repoBaseUrl." },
        "repoHost": { "type": "string", "description": "Alias for repoBaseUrl (host-only values imply https)." },
        "repo-host": { "type": "string", "description": "Alias for repoBaseUrl." },
        "writeManifest": { "type": "boolean", "description": "When true, write a JSON manifest of synchronized repositories." },
        "write-manifest": { "type": "boolean", "description": "Alias for writeManifest." },
        "manifestPath": { "type": "string", "description": "Path to git-sync manifest JSON file." },
        "manifest-path": { "type": "string", "description": "Alias for manifestPath." },
        "manifest": { "type": "string", "description": "Alias for manifestPath." },
        "submodules": { "type": "boolean", "description": "Initialize/update submodules after sync." },
        "submodule": { "type": "boolean", "description": "Alias for submodules." },
        "submodulesRecursive": { "type": "boolean", "description": "When true, update submodules recursively." },
        "submodules-recursive": { "type": "boolean", "description": "Alias for submodulesRecursive." },
        "recursiveSubmodules": { "type": "boolean", "description": "Alias for submodulesRecursive." },
        "recursive-submodules": { "type": "boolean", "description": "Alias for submodulesRecursive." },
        "submoduleDepth": { "type": "integer", "minimum": 0, "description": "Submodule clone depth (0 = full history)." },
        "submodule-depth": { "type": "integer", "minimum": 0, "description": "Alias for submoduleDepth." },
        "retry": { "type": "integer", "minimum": 0, "description": "Retry attempts for git command failures." },
        "retries": { "type": "integer", "minimum": 0, "description": "Alias for retry." },
        "retryCount": { "type": "integer", "minimum": 0, "description": "Alias for retry." },
        "retry-count": { "type": "integer", "minimum": 0, "description": "Alias for retry." },
        "retryDelayMs": { "type": "integer", "minimum": 0, "description": "Delay between retry attempts in milliseconds." },
        "retry-delay-ms": { "type": "integer", "minimum": 0, "description": "Alias for retryDelayMs." },
        "retryDelay": { "type": "integer", "minimum": 0, "description": "Alias for retryDelayMs." },
        "retry-delay": { "type": "integer", "minimum": 0, "description": "Alias for retryDelayMs." },
        "lockPath": { "type": "string", "description": "Path to commit lock file used by lockMode." },
        "lock-path": { "type": "string", "description": "Alias for lockPath." },
        "lock": { "type": "string", "description": "Alias for lockPath." },
        "lockMode": { "type": "string", "description": "Lock behavior: off (default), verify, or update." },
        "lock-mode": { "type": "string", "description": "Alias for lockMode." },
        "timeoutSeconds": { "type": "integer", "minimum": 1 },
        "timeout-seconds": { "type": "integer", "minimum": 1, "description": "Alias for timeoutSeconds." }
      },
      "required": ["task"],
      "allOf": [
        {
          "anyOf": [
            { "required": ["repos"] },
            { "required": ["repositories"] },
            {
              "allOf": [
                {
                  "anyOf": [
                    { "required": ["repo"] },
                    { "required": ["repository"] },
                    { "required": ["url"] }
                  ]
                },
                {
                  "anyOf": [
                    { "required": ["destination"] },
                    { "required": ["dest"] },
                    { "required": ["path"] }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    "SourcesSyncStep": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "task": { "const": "sources-sync" },
        "id": { "type": "string" },
        "dependsOn": { "oneOf": [{ "type": "string" }, { "type": "array", "items": { "type": "string" } }] },
        "mode": { "type": "string" },
        "modes": { "type": "array", "items": { "type": "string" } },
        "onlyModes": { "type": "array", "items": { "type": "string" } },
        "only-modes": { "type": "array", "items": { "type": "string" } },
        "skipModes": { "type": "array", "items": { "type": "string" } },
        "skip-modes": { "type": "array", "items": { "type": "string" } },

        "config": { "type": "string", "description": "Path to site.json containing Sources entries." },

        "lockMode": { "type": "string", "description": "Passed through to git-sync lockMode (off|verify|update)." },
        "lock-mode": { "type": "string", "description": "Alias for lockMode." },
        "lockPath": { "type": "string", "description": "Passed through to git-sync lockPath." },
        "lock-path": { "type": "string", "description": "Alias for lockPath." },
        "lock": { "type": "string", "description": "Alias for lockPath." },

        "writeManifest": { "type": "boolean", "description": "Passed through to git-sync writeManifest." },
        "write-manifest": { "type": "boolean", "description": "Alias for writeManifest." },
        "manifestPath": { "type": "string", "description": "Passed through to git-sync manifestPath." },
        "manifest-path": { "type": "string", "description": "Alias for manifestPath." },
        "manifest": { "type": "string", "description": "Alias for manifestPath." }
      },
      "required": ["task", "config"]
    },
    "ApiDocsStep": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "task": { "const": "apidocs" },
        "id": { "type": "string" },
        "dependsOn": { "oneOf": [{ "type": "string" }, { "type": "array", "items": { "type": "string" } }] },
        "mode": { "type": "string" },
        "modes": { "type": "array", "items": { "type": "string" } },
        "onlyModes": { "type": "array", "items": { "type": "string" } },
        "only-modes": { "type": "array", "items": { "type": "string" } },
        "skipModes": { "type": "array", "items": { "type": "string" } },
        "skip-modes": { "type": "array", "items": { "type": "string" } },
        "config": { "type": "string" },
        "type": { "type": "string", "enum": ["CSharp", "PowerShell"] },
        "xml": { "type": "string" },
        "help": { "type": "string" },
        "helpPath": { "type": "string" },
        "assembly": { "type": "string" },
        "out": { "type": "string" },
        "output": { "type": "string" },
        "title": { "type": "string" },
        "baseUrl": { "type": "string" },
        "format": { "type": "string", "enum": ["json", "hybrid", "html", "both"] },
        "css": { "type": "string" },
        "criticalCss": { "type": "string", "description": "Path to a critical CSS file to inline into API pages." },
        "critical-css": { "type": "string", "description": "Path to a critical CSS file to inline into API pages." },
        "criticalCssPath": { "type": "string", "description": "Path to a critical CSS file to inline into API pages." },
        "critical-css-path": { "type": "string", "description": "Path to a critical CSS file to inline into API pages." },
        "injectCriticalCss": { "type": "boolean", "description": "When true and config is provided, inline assetRegistry.criticalCss from site.json into API pages." },
        "inject-critical-css": { "type": "boolean", "description": "When true and config is provided, inline assetRegistry.criticalCss from site.json into API pages." },
        "headerHtml": { "type": "string" },
        "footerHtml": { "type": "string" },
        "template": { "type": "string" },
        "templateRoot": { "type": "string" },
        "templateIndex": { "type": "string" },
        "templateType": { "type": "string" },
        "templateDocsIndex": { "type": "string" },
        "templateDocsType": { "type": "string" },
        "docsScript": { "type": "string" },
        "searchScript": { "type": "string" },
          "docsHome": { "type": "string" },
          "docsHomeUrl": { "type": "string" },
          "sidebar": { "type": "string", "enum": ["left", "right"] },
          "sidebarPosition": { "type": "string", "enum": ["left", "right"] },
          "bodyClass": { "type": "string" },
          "body-class": { "type": "string" },
          "sourceRoot": { "type": "string" },
        "sourcePathPrefix": { "type": "string" },
        "source-path-prefix": { "type": "string" },
        "sourceUrl": { "type": "string" },
        "includeUndocumented": { "type": "boolean" },
        "nav": { "type": "string" },
        "navJson": { "type": "string" },
        "navSurface": { "type": "string", "description": "Optional navigation surface name from site-nav.json (for example: apidocs, docs, main)." },
        "nav-surface": { "type": "string", "description": "Alias of navSurface." },
        "navSurfaceName": { "type": "string", "description": "Alias of navSurface." },
        "nav-surface-name": { "type": "string", "description": "Alias of navSurface." },
        "navContextPath": { "type": "string" },
        "navContextCollection": { "type": "string" },
        "navContextLayout": { "type": "string" },
        "navContextProject": { "type": "string" },
        "siteName": { "type": "string" },
        "socialImage": { "type": "string", "description": "Default social image URL for generated API pages." },
        "social-image": { "type": "string", "description": "Alias of socialImage." },
        "socialImageWidth": { "type": "integer", "minimum": 1, "maximum": 2400, "description": "Default social image width in pixels for generated API pages." },
        "social-image-width": { "type": "integer", "minimum": 1, "maximum": 2400, "description": "Alias of socialImageWidth." },
        "socialImageHeight": { "type": "integer", "minimum": 1, "maximum": 1400, "description": "Default social image height in pixels for generated API pages." },
        "social-image-height": { "type": "integer", "minimum": 1, "maximum": 1400, "description": "Alias of socialImageHeight." },
        "socialTwitterCard": { "type": "string", "description": "Twitter card type for generated API pages." },
        "social-twitter-card": { "type": "string", "description": "Alias of socialTwitterCard." },
        "socialTwitterSite": { "type": "string", "description": "Twitter site handle for generated API pages (for example @myproject)." },
        "social-twitter-site": { "type": "string", "description": "Alias of socialTwitterSite." },
        "socialTwitterCreator": { "type": "string", "description": "Twitter creator handle for generated API pages (for example @author)." },
        "social-twitter-creator": { "type": "string", "description": "Alias of socialTwitterCreator." },
        "socialAutoGenerate": { "type": "boolean", "description": "Generate per-page API social card PNG files from API page content." },
        "social-auto-generate": { "type": "boolean", "description": "Alias of socialAutoGenerate." },
        "socialCardPath": { "type": "string", "description": "Output URL prefix for generated API social card files." },
        "social-card-path": { "type": "string", "description": "Alias of socialCardPath." },
        "socialCardWidth": { "type": "integer", "minimum": 600, "maximum": 2400, "description": "Generated API social card width in pixels." },
        "social-card-width": { "type": "integer", "minimum": 600, "maximum": 2400, "description": "Alias of socialCardWidth." },
        "socialCardHeight": { "type": "integer", "minimum": 315, "maximum": 1400, "description": "Generated API social card height in pixels." },
        "social-card-height": { "type": "integer", "minimum": 315, "maximum": 1400, "description": "Alias of socialCardHeight." },
        "brandUrl": { "type": "string" },
        "brandIcon": { "type": "string" },
        "includeNamespace": { "type": "string" },
        "excludeNamespace": { "type": "string" },
        "includeType": { "type": "string" },
        "excludeType": { "type": "string" },
        "quickStartTypes": { "type": "string", "description": "Comma-separated type names used for the API Quick Start / Main API sections." },
        "quickstartTypes": { "type": "string", "description": "Alias of quickStartTypes." },
        "quick-start-types": { "type": "string", "description": "Alias of quickStartTypes." },
        "quickstart-types": { "type": "string", "description": "Alias of quickStartTypes." },
        "generateCoverageReport": { "type": "boolean", "description": "Generate API coverage report JSON." },
        "generate-coverage-report": { "type": "boolean", "description": "Alias of generateCoverageReport." },
        "coverageReport": { "type": "string", "description": "Coverage report output path (relative to pipeline config or absolute)." },
        "coverage-report": { "type": "string", "description": "Alias of coverageReport." },
        "coverageReportPath": { "type": "string", "description": "Alias of coverageReport." },
        "coverage-report-path": { "type": "string", "description": "Alias of coverageReport." },
        "generateXrefMap": { "type": "boolean", "description": "Generate API xref map JSON for external symbol linking." },
        "generate-xref-map": { "type": "boolean", "description": "Alias of generateXrefMap." },
        "generateMemberXrefs": { "type": "boolean", "description": "Include member-level xref entries (methods/properties/fields/events/parameters)." },
        "generate-member-xrefs": { "type": "boolean", "description": "Alias of generateMemberXrefs." },
        "memberXrefKinds": {
          "oneOf": [
            { "type": "string" },
            { "type": "array", "items": { "type": "string" } }
          ],
          "description": "Member xref kinds filter (constructors,methods,properties,fields,events,extensions,parameters)."
        },
        "member-xref-kinds": {
          "oneOf": [
            { "type": "string" },
            { "type": "array", "items": { "type": "string" } }
          ],
          "description": "Alias of memberXrefKinds."
        },
        "memberXrefMaxPerType": { "type": "integer", "minimum": 0, "description": "Maximum member xref entries emitted per type/command. 0 = unlimited." },
        "member-xref-max-per-type": { "type": "integer", "minimum": 0, "description": "Alias of memberXrefMaxPerType." },
        "xrefMap": { "type": "string", "description": "Xref map output path (relative to pipeline config or absolute)." },
        "xref-map": { "type": "string", "description": "Alias of xrefMap." },
        "xrefMapPath": { "type": "string", "description": "Alias of xrefMap." },
        "xref-map-path": { "type": "string", "description": "Alias of xrefMap." },
        "generatePowerShellFallbackExamples": { "type": "boolean", "description": "Generate fallback code examples for PowerShell commands when help XML has no examples." },
        "generate-powershell-fallback-examples": { "type": "boolean", "description": "Alias of generatePowerShellFallbackExamples." },
        "psExamplesPath": { "type": "string", "description": "Path to PowerShell example scripts file/folder used for fallback snippets." },
        "ps-examples-path": { "type": "string", "description": "Alias of psExamplesPath." },
        "powerShellExamplesPath": { "type": "string", "description": "Alias of psExamplesPath." },
        "powershell-examples-path": { "type": "string", "description": "Alias of psExamplesPath." },
        "powerShellFallbackExampleLimit": { "type": "integer", "minimum": 1, "maximum": 5, "description": "Max fallback examples per PowerShell command." },
        "powershell-fallback-example-limit": { "type": "integer", "minimum": 1, "maximum": 5, "description": "Alias of powerShellFallbackExampleLimit." },
        "failOnWarnings": { "type": "boolean" },
        "failOnCoverage": { "type": "boolean", "description": "Fail apidocs step when configured coverage thresholds are not met." },
        "fail-on-coverage": { "type": "boolean", "description": "Alias of failOnCoverage." },
        "coveragePreviewCount": { "type": "integer", "minimum": 0, "description": "How many failed coverage metrics to preview in logs." },
        "coverage-preview": { "type": "integer", "minimum": 0, "description": "Alias of coveragePreviewCount." },
        "minTypeSummaryPercent": { "type": "number", "minimum": 0, "maximum": 100 },
        "min-type-summary-percent": { "type": "number", "minimum": 0, "maximum": 100 },
        "minTypeRemarksPercent": { "type": "number", "minimum": 0, "maximum": 100 },
        "min-type-remarks-percent": { "type": "number", "minimum": 0, "maximum": 100 },
        "minTypeCodeExamplesPercent": { "type": "number", "minimum": 0, "maximum": 100 },
        "min-type-code-examples-percent": { "type": "number", "minimum": 0, "maximum": 100 },
        "minMemberSummaryPercent": { "type": "number", "minimum": 0, "maximum": 100 },
        "min-member-summary-percent": { "type": "number", "minimum": 0, "maximum": 100 },
        "minMemberCodeExamplesPercent": { "type": "number", "minimum": 0, "maximum": 100 },
        "min-member-code-examples-percent": { "type": "number", "minimum": 0, "maximum": 100 },
        "minPowerShellSummaryPercent": { "type": "number", "minimum": 0, "maximum": 100 },
        "min-powershell-summary-percent": { "type": "number", "minimum": 0, "maximum": 100 },
        "minPowerShellRemarksPercent": { "type": "number", "minimum": 0, "maximum": 100 },
        "min-powershell-remarks-percent": { "type": "number", "minimum": 0, "maximum": 100 },
        "minPowerShellCodeExamplesPercent": { "type": "number", "minimum": 0, "maximum": 100 },
        "min-powershell-code-examples-percent": { "type": "number", "minimum": 0, "maximum": 100 },
        "minPowerShellParameterSummaryPercent": { "type": "number", "minimum": 0, "maximum": 100 },
        "min-powershell-parameter-summary-percent": { "type": "number", "minimum": 0, "maximum": 100 },
        "minTypeSourcePathPercent": { "type": "number", "minimum": 0, "maximum": 100 },
        "min-type-source-path-percent": { "type": "number", "minimum": 0, "maximum": 100 },
        "minTypeSourceUrlPercent": { "type": "number", "minimum": 0, "maximum": 100 },
        "min-type-source-url-percent": { "type": "number", "minimum": 0, "maximum": 100 },
        "minMemberSourcePathPercent": { "type": "number", "minimum": 0, "maximum": 100 },
        "min-member-source-path-percent": { "type": "number", "minimum": 0, "maximum": 100 },
        "minMemberSourceUrlPercent": { "type": "number", "minimum": 0, "maximum": 100 },
        "min-member-source-url-percent": { "type": "number", "minimum": 0, "maximum": 100 },
        "minPowerShellSourcePathPercent": { "type": "number", "minimum": 0, "maximum": 100 },
        "min-powershell-source-path-percent": { "type": "number", "minimum": 0, "maximum": 100 },
        "minPowerShellSourceUrlPercent": { "type": "number", "minimum": 0, "maximum": 100 },
        "min-powershell-source-url-percent": { "type": "number", "minimum": 0, "maximum": 100 },
        "maxTypeSourceInvalidUrlCount": { "type": "number", "minimum": 0 },
        "max-type-source-invalid-url-count": { "type": "number", "minimum": 0 },
        "maxMemberSourceInvalidUrlCount": { "type": "number", "minimum": 0 },
        "max-member-source-invalid-url-count": { "type": "number", "minimum": 0 },
        "maxPowerShellSourceInvalidUrlCount": { "type": "number", "minimum": 0 },
        "max-powershell-source-invalid-url-count": { "type": "number", "minimum": 0 },
        "maxTypeSourceUnresolvedTemplateCount": { "type": "number", "minimum": 0 },
        "max-type-source-unresolved-template-count": { "type": "number", "minimum": 0 },
        "maxMemberSourceUnresolvedTemplateCount": { "type": "number", "minimum": 0 },
        "max-member-source-unresolved-template-count": { "type": "number", "minimum": 0 },
        "maxPowerShellSourceUnresolvedTemplateCount": { "type": "number", "minimum": 0 },
        "max-powershell-source-unresolved-template-count": { "type": "number", "minimum": 0 },
        "maxTypeSourceRepoMismatchHints": { "type": "number", "minimum": 0 },
        "max-type-source-repo-mismatch-hints": { "type": "number", "minimum": 0 },
        "maxMemberSourceRepoMismatchHints": { "type": "number", "minimum": 0 },
        "max-member-source-repo-mismatch-hints": { "type": "number", "minimum": 0 },
        "maxPowerShellSourceRepoMismatchHints": { "type": "number", "minimum": 0 },
        "max-powershell-source-repo-mismatch-hints": { "type": "number", "minimum": 0 },
        "suppressWarnings": { "type": "array", "items": { "type": "string" } },
        "warningPreviewCount": { "type": "integer", "minimum": 0 },
        "inputs": {
          "type": "array",
          "minItems": 1,
          "items": { "$ref": "#/$defs/ApiDocsBatchInput" },
          "description": "Optional batch entries for multi-library API docs generation. Parent apidocs settings act as defaults."
        },
        "entries": {
          "type": "array",
          "minItems": 1,
          "items": { "$ref": "#/$defs/ApiDocsBatchInput" },
          "description": "Alias for inputs."
        }
      },
      "required": ["task"],
      "anyOf": [
        { "required": ["out"] },
        { "required": ["output"] },
        { "required": ["inputs"] },
        { "required": ["entries"] }
      ]
    },
    "ApiDocsBatchInput": {
      "type": "object",
      "additionalProperties": true,
      "properties": {
        "id": { "type": "string" },
        "name": { "type": "string" },
        "title": { "type": "string" },
        "type": { "type": "string", "enum": ["CSharp", "PowerShell"] },
        "xml": { "type": "string" },
        "help": { "type": "string" },
        "helpPath": { "type": "string" },
        "assembly": { "type": "string" },
        "out": { "type": "string" },
        "output": { "type": "string" },
        "baseUrl": { "type": "string" },
        "format": { "type": "string", "enum": ["json", "hybrid", "html", "both"] },
        "includeNamespace": { "type": "string" },
        "excludeNamespace": { "type": "string" },
        "includeType": { "type": "string" },
        "excludeType": { "type": "string" }
      }
    },
    "XrefMergeStep": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "task": { "const": "xref-merge" },
        "id": { "type": "string" },
        "dependsOn": { "oneOf": [{ "type": "string" }, { "type": "array", "items": { "type": "string" } }] },
        "mode": { "type": "string" },
        "modes": { "type": "array", "items": { "type": "string" } },
        "onlyModes": { "type": "array", "items": { "type": "string" } },
        "only-modes": { "type": "array", "items": { "type": "string" } },
        "skipModes": { "type": "array", "items": { "type": "string" } },
        "skip-modes": { "type": "array", "items": { "type": "string" } },
        "out": { "type": "string" },
        "output": { "type": "string" },
        "map": { "type": "string", "description": "Single input xref map file or directory." },
        "maps": { "type": "string", "description": "Comma-separated input xref map files/directories." },
        "input": { "type": "string", "description": "Alias of maps." },
        "inputs": { "type": "string", "description": "Alias of maps." },
        "source": { "type": "string", "description": "Alias of maps." },
        "sources": { "type": "string", "description": "Alias of maps." },
        "mapFiles": { "type": "array", "items": { "type": "string" }, "description": "Array of input xref map files/directories." },
        "map-files": { "type": "array", "items": { "type": "string" }, "description": "Alias of mapFiles." },
        "inputsArray": { "type": "array", "items": { "type": "string" }, "description": "Alias of mapFiles." },
        "inputs-array": { "type": "array", "items": { "type": "string" }, "description": "Alias of mapFiles." },
        "pattern": { "type": "string", "description": "Directory scan pattern (default: *.json)." },
        "recursive": { "type": "boolean", "description": "Scan directories recursively (default: true)." },
        "includeSubdirectories": { "type": "boolean", "description": "Alias of recursive." },
        "topOnly": { "type": "boolean", "description": "When true, scan only top directory level." },
        "top-only": { "type": "boolean", "description": "Alias of topOnly." },
        "preferLast": { "type": "boolean", "description": "When true, later duplicates override earlier href/name values." },
        "prefer-last": { "type": "boolean", "description": "Alias of preferLast." },
        "failOnDuplicates": { "type": "boolean", "description": "Fail when duplicate UIDs are detected." },
        "fail-on-duplicates": { "type": "boolean", "description": "Alias of failOnDuplicates." },
        "maxReferences": { "type": "integer", "minimum": 0, "description": "Maximum allowed merged reference count before warning. 0 disables the check." },
        "max-references": { "type": "integer", "minimum": 0, "description": "Alias of maxReferences." },
        "maxDuplicates": { "type": "integer", "minimum": 0, "description": "Maximum allowed duplicate UID count before warning. 0 disables the check." },
        "max-duplicates": { "type": "integer", "minimum": 0, "description": "Alias of maxDuplicates." },
        "maxReferenceGrowthCount": { "type": "integer", "minimum": 0, "description": "Maximum allowed growth in merged references compared to previous output. 0 disables the check." },
        "max-reference-growth-count": { "type": "integer", "minimum": 0, "description": "Alias of maxReferenceGrowthCount." },
        "maxReferenceGrowthPercent": { "type": "number", "minimum": 0, "description": "Maximum allowed growth percent in merged references compared to previous output. 0 disables the check." },
        "max-reference-growth-percent": { "type": "number", "minimum": 0, "description": "Alias of maxReferenceGrowthPercent." },
        "failOnWarnings": { "type": "boolean", "description": "Fail on merge warnings (default true in CI, false in dev)." },
        "warningPreviewCount": { "type": "integer", "minimum": 0, "description": "How many warnings to preview in logs." },
        "warning-preview": { "type": "integer", "minimum": 0, "description": "Alias of warningPreviewCount." }
      },
      "required": ["task", "out"],
      "anyOf": [
        { "required": ["map"] },
        { "required": ["maps"] },
        { "required": ["input"] },
        { "required": ["inputs"] },
        { "required": ["source"] },
        { "required": ["sources"] },
        { "required": ["mapFiles"] },
        { "required": ["map-files"] },
        { "required": ["inputsArray"] },
        { "required": ["inputs-array"] }
      ]
    },
    "ChangelogStep": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "task": { "const": "changelog" },
        "id": { "type": "string" },
        "dependsOn": { "oneOf": [{ "type": "string" }, { "type": "array", "items": { "type": "string" } }] },
        "mode": { "type": "string" },
        "modes": { "type": "array", "items": { "type": "string" } },
        "onlyModes": { "type": "array", "items": { "type": "string" } },
        "only-modes": { "type": "array", "items": { "type": "string" } },
        "skipModes": { "type": "array", "items": { "type": "string" } },
        "skip-modes": { "type": "array", "items": { "type": "string" } },
        "source": { "type": "string", "enum": ["Auto", "File", "GitHub"] },
        "changelog": { "type": "string" },
        "changelogPath": { "type": "string" },
        "repo": { "type": "string" },
        "repoUrl": { "type": "string" },
        "token": { "type": "string" },
        "max": { "type": ["string", "integer"] },
        "title": { "type": "string" },
        "out": { "type": "string" },
        "output": { "type": "string" }
      },
      "required": ["task", "out"]
    },
    "VersionHubStep": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "task": { "const": "version-hub" },
        "id": { "type": "string" },
        "dependsOn": { "oneOf": [{ "type": "string" }, { "type": "array", "items": { "type": "string" } }] },
        "mode": { "type": "string" },
        "modes": { "type": "array", "items": { "type": "string" } },
        "onlyModes": { "type": "array", "items": { "type": "string" } },
        "only-modes": { "type": "array", "items": { "type": "string" } },
        "skipModes": { "type": "array", "items": { "type": "string" } },
        "skip-modes": { "type": "array", "items": { "type": "string" } },
        "title": { "type": "string" },
        "discoverRoot": { "type": "string" },
        "discover-root": { "type": "string" },
        "discoverPattern": { "type": "string" },
        "discover-pattern": { "type": "string" },
        "basePath": { "type": "string" },
        "base-path": { "type": "string" },
        "setLatestFromNewest": { "type": "boolean" },
        "set-latest-from-newest": { "type": "boolean" },
        "versions": {
          "type": "array",
          "items": { "$ref": "#/$defs/VersionHubEntry" }
        },
        "entries": {
          "type": "array",
          "items": { "$ref": "#/$defs/VersionHubEntry" }
        },
        "out": { "type": "string" },
        "output": { "type": "string" }
      },
      "required": ["task"],
      "allOf": [
        {
          "anyOf": [
            { "required": ["out"] },
            { "required": ["output"] }
          ]
        },
        {
          "anyOf": [
            { "required": ["versions"] },
            { "required": ["entries"] },
            { "required": ["discoverRoot"] },
            { "required": ["discover-root"] }
          ]
        }
      ]
    },
    "VersionHubEntry": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "id": { "type": "string" },
        "version": { "type": "string" },
        "label": { "type": "string" },
        "path": { "type": "string" },
        "url": { "type": "string" },
        "channel": { "type": "string" },
        "support": { "type": "string" },
        "latest": { "type": "boolean" },
        "lts": { "type": "boolean" },
        "deprecated": { "type": "boolean" },
        "aliases": { "type": "array", "items": { "type": "string" } }
      }
    },
    "PackageHubStep": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "task": { "const": "package-hub" },
        "id": { "type": "string" },
        "dependsOn": { "oneOf": [{ "type": "string" }, { "type": "array", "items": { "type": "string" } }] },
        "mode": { "type": "string" },
        "modes": { "type": "array", "items": { "type": "string" } },
        "onlyModes": { "type": "array", "items": { "type": "string" } },
        "only-modes": { "type": "array", "items": { "type": "string" } },
        "skipModes": { "type": "array", "items": { "type": "string" } },
        "skip-modes": { "type": "array", "items": { "type": "string" } },
        "title": { "type": "string" },
        "project": { "type": "string", "description": "Single .csproj path." },
        "projects": { "type": "string", "description": "Comma-separated .csproj paths." },
        "projectFiles": { "type": "array", "items": { "type": "string" }, "description": "Array of .csproj paths." },
        "project-files": { "type": "array", "items": { "type": "string" }, "description": "Alias for projectFiles." },
        "module": { "type": "string", "description": "Single .psd1 manifest path." },
        "modules": { "type": "string", "description": "Comma-separated .psd1 manifest paths." },
        "moduleFiles": { "type": "array", "items": { "type": "string" }, "description": "Array of .psd1 manifest paths." },
        "module-files": { "type": "array", "items": { "type": "string" }, "description": "Alias for moduleFiles." },
        "out": { "type": "string" },
        "output": { "type": "string" }
      },
      "required": ["task"],
      "allOf": [
        {
          "anyOf": [
            { "required": ["out"] },
            { "required": ["output"] }
          ]
        },
        {
          "anyOf": [
            { "required": ["project"] },
            { "required": ["projects"] },
            { "required": ["projectFiles"] },
            { "required": ["project-files"] },
            { "required": ["module"] },
            { "required": ["modules"] },
            { "required": ["moduleFiles"] },
            { "required": ["module-files"] }
          ]
        }
      ]
    },
    "LlmsStep": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "task": { "const": "llms" },
        "id": { "type": "string" },
        "dependsOn": { "oneOf": [{ "type": "string" }, { "type": "array", "items": { "type": "string" } }] },
        "mode": { "type": "string" },
        "modes": { "type": "array", "items": { "type": "string" } },
        "onlyModes": { "type": "array", "items": { "type": "string" } },
        "only-modes": { "type": "array", "items": { "type": "string" } },
        "skipModes": { "type": "array", "items": { "type": "string" } },
        "skip-modes": { "type": "array", "items": { "type": "string" } },
        "siteRoot": { "type": "string" },
        "project": { "type": "string" },
        "apiIndex": { "type": "string" },
        "apiBase": { "type": "string" },
        "name": { "type": "string" },
        "package": { "type": "string" },
        "packageId": { "type": "string" },
        "version": { "type": "string" },
        "quickstart": { "type": "string" },
        "overview": { "type": "string" },
        "license": { "type": "string" },
        "targets": { "type": "string" },
        "extra": { "type": "string" },
        "apiLevel": { "type": "string", "enum": ["None", "Summary", "Full"] },
        "apiMaxTypes": { "type": "integer", "minimum": 0 },
        "apiMaxMembers": { "type": "integer", "minimum": 0 }
      },
      "required": ["task"],
      "allOf": [
        {
          "anyOf": [
            { "required": ["siteRoot"] },
            { "required": ["site-root"] }
          ]
        }
      ]
    },
    "CompatMatrixStep": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "task": { "const": "compat-matrix" },
        "id": { "type": "string" },
        "dependsOn": { "oneOf": [{ "type": "string" }, { "type": "array", "items": { "type": "string" } }] },
        "mode": { "type": "string" },
        "modes": { "type": "array", "items": { "type": "string" } },
        "onlyModes": { "type": "array", "items": { "type": "string" } },
        "only-modes": { "type": "array", "items": { "type": "string" } },
        "skipModes": { "type": "array", "items": { "type": "string" } },
        "skip-modes": { "type": "array", "items": { "type": "string" } },
        "title": { "type": "string" },
        "out": { "type": "string" },
        "output": { "type": "string" },
        "markdownOut": { "type": "string" },
        "markdown-out": { "type": "string" },
        "markdownOutput": { "type": "string" },
        "markdown-output": { "type": "string" },
        "includeDependencies": { "type": "boolean" },
        "include-dependencies": { "type": "boolean" },
        "failOnWarnings": { "type": "boolean" },
        "csproj": { "type": "string" },
        "project": { "type": "string" },
        "csprojFiles": {
          "oneOf": [
            { "type": "string" },
            { "type": "array", "items": { "type": "string" } }
          ]
        },
        "csproj-files": {
          "oneOf": [
            { "type": "string" },
            { "type": "array", "items": { "type": "string" } }
          ]
        },
        "projects": { "type": "array", "items": { "type": "string" } },
        "psd1": { "type": "string" },
        "psd1Files": {
          "oneOf": [
            { "type": "string" },
            { "type": "array", "items": { "type": "string" } }
          ]
        },
        "psd1-files": {
          "oneOf": [
            { "type": "string" },
            { "type": "array", "items": { "type": "string" } }
          ]
        },
        "entries": {
          "type": "array",
          "items": { "$ref": "#/$defs/CompatMatrixEntry" }
        }
      },
      "required": ["task", "out"]
    },
    "CompatMatrixEntry": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "type": { "type": "string" },
        "id": { "type": "string" },
        "name": { "type": "string" },
        "version": { "type": "string" },
        "sourcePath": { "type": "string" },
        "source-path": { "type": "string" },
        "source": { "type": "string" },
        "targetFrameworks": { "type": "array", "items": { "type": "string" } },
        "target-frameworks": { "type": "array", "items": { "type": "string" } },
        "tfms": { "type": "array", "items": { "type": "string" } },
        "powerShellEditions": { "type": "array", "items": { "type": "string" } },
        "powershellEditions": { "type": "array", "items": { "type": "string" } },
        "psEditions": { "type": "array", "items": { "type": "string" } },
        "ps-editions": { "type": "array", "items": { "type": "string" } },
        "powerShellVersion": { "type": "string" },
        "powershellVersion": { "type": "string" },
        "psVersion": { "type": "string" },
        "ps-version": { "type": "string" },
        "dependencies": { "type": "array", "items": { "type": "string" } },
        "dependsOn": { "type": "array", "items": { "type": "string" } },
        "status": { "type": "string" },
        "notes": { "type": "string" },
        "url": { "type": "string" }
      }
    },
    "SitemapStep": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "task": { "const": "sitemap" },
        "id": { "type": "string" },
        "dependsOn": { "oneOf": [{ "type": "string" }, { "type": "array", "items": { "type": "string" } }] },
        "mode": { "type": "string" },
        "modes": { "type": "array", "items": { "type": "string" } },
        "onlyModes": { "type": "array", "items": { "type": "string" } },
        "only-modes": { "type": "array", "items": { "type": "string" } },
        "skipModes": { "type": "array", "items": { "type": "string" } },
        "skip-modes": { "type": "array", "items": { "type": "string" } },
        "siteRoot": { "type": "string" },
        "baseUrl": { "type": "string" },
        "apiSitemap": { "type": "string" },
        "out": { "type": "string" },
        "output": { "type": "string" },
        "entries": { "type": "array", "items": { "$ref": "#/$defs/SitemapEntry" } },
        "entriesJson": { "type": "string" },
        "entriesFile": { "type": "string" },
        "entries-json": { "type": "string" },
        "entries-file": { "type": "string" },
        "newsOutput": { "type": "string" },
        "newsOut": { "type": "string" },
        "news-output": { "type": "string" },
        "news-out": { "type": "string" },
        "newsPaths": { "type": "array", "items": { "type": "string" } },
        "news-paths": { "type": "array", "items": { "type": "string" } },
        "newsMetadata": { "$ref": "#/$defs/SitemapNewsMetadata" },
        "news-metadata": { "$ref": "#/$defs/SitemapNewsMetadata" },
        "imageOutput": { "type": "string" },
        "imageOut": { "type": "string" },
        "image-output": { "type": "string" },
        "image-out": { "type": "string" },
        "imagePaths": { "type": "array", "items": { "type": "string" } },
        "image-paths": { "type": "array", "items": { "type": "string" } },
        "videoOutput": { "type": "string" },
        "videoOut": { "type": "string" },
        "video-output": { "type": "string" },
        "video-out": { "type": "string" },
        "videoPaths": { "type": "array", "items": { "type": "string" } },
        "video-paths": { "type": "array", "items": { "type": "string" } },
        "sitemapIndex": { "type": "string" },
        "sitemap-index": { "type": "string" },
        "indexOut": { "type": "string" },
        "index-out": { "type": "string" },
        "includeHtmlFiles": { "type": "boolean" },
        "includeNoIndexHtml": { "type": "boolean" },
        "include-noindex-html": { "type": "boolean" },
        "includeTextFiles": { "type": "boolean" },
        "includeNoIndexPages": { "type": "boolean" },
        "include-no-index-pages": { "type": "boolean" },
        "includeLanguageAlternates": { "type": "boolean" },
        "noDefaultExclude": { "type": "boolean" },
        "no-default-exclude": { "type": "boolean" },
        "excludePatterns": { "type": "array", "items": { "type": "string" } },
        "exclude-patterns": { "type": "array", "items": { "type": "string" } },
        "extraPaths": { "type": "array", "items": { "type": "string" } },
        "json": { "type": "boolean" },
        "jsonOutput": { "type": "string" },
        "jsonOut": { "type": "string" },
        "json-output": { "type": "string" },
        "json-out": { "type": "string" },
        "html": { "type": "boolean" },
        "htmlOutput": { "type": "string" },
        "htmlOut": { "type": "string" },
        "htmlTemplate": { "type": "string" },
        "htmlCss": { "type": "string" },
        "htmlTitle": { "type": "string" },
        "includeGeneratedHtmlRouteInXml": { "type": "boolean" },
        "include-generated-html-route-in-xml": { "type": "boolean" }
      },
      "required": ["task", "siteRoot", "baseUrl"]
    },
    "OptimizeStep": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "task": { "const": "optimize" },
        "id": { "type": "string" },
        "dependsOn": { "oneOf": [{ "type": "string" }, { "type": "array", "items": { "type": "string" } }] },
        "mode": { "type": "string" },
        "modes": { "type": "array", "items": { "type": "string" } },
        "onlyModes": { "type": "array", "items": { "type": "string" } },
        "only-modes": { "type": "array", "items": { "type": "string" } },
        "skipModes": { "type": "array", "items": { "type": "string" } },
        "skip-modes": { "type": "array", "items": { "type": "string" } },
        "siteRoot": { "type": "string" },
        "config": { "type": "string" },
        "criticalCss": { "type": "string" },
        "cssPattern": { "type": "string" },
        "minifyHtml": { "type": "boolean" },
        "minifyCss": { "type": "boolean" },
        "minifyJs": { "type": "boolean" },
        "htmlInclude": { "type": "array", "items": { "type": "string" } },
        "html-include": { "type": "array", "items": { "type": "string" } },
        "htmlExclude": { "type": "array", "items": { "type": "string" } },
        "html-exclude": { "type": "array", "items": { "type": "string" } },
        "maxHtmlFiles": { "type": "integer", "minimum": 0 },
        "max-html-files": { "type": "integer", "minimum": 0 },
        "scopeFromBuildUpdated": {
          "type": "boolean",
          "description": "When true, if htmlInclude/html-include is not set, scope HTML processing to the HTML files updated by the most recent build step (when siteRoot matches build out). In --fast mode this behavior is enabled by default; set this to false to disable."
        },
        "scope-from-build-updated": { "type": "boolean" },
        "optimizeImages": { "type": "boolean" },
        "images": { "type": "boolean" },
        "imageExtensions": { "type": "array", "items": { "type": "string" } },
        "image-ext": { "type": "array", "items": { "type": "string" } },
        "imageInclude": { "type": "array", "items": { "type": "string" } },
        "image-include": { "type": "array", "items": { "type": "string" } },
        "imageExclude": { "type": "array", "items": { "type": "string" } },
        "image-exclude": { "type": "array", "items": { "type": "string" } },
        "imageQuality": { "type": "integer", "minimum": 1, "maximum": 100 },
        "image-quality": { "type": "integer", "minimum": 1, "maximum": 100 },
        "imageStripMetadata": { "type": "boolean" },
        "image-strip-metadata": { "type": "boolean" },
        "imageGenerateWebp": { "type": "boolean" },
        "image-generate-webp": { "type": "boolean" },
        "imageGenerateAvif": { "type": "boolean" },
        "image-generate-avif": { "type": "boolean" },
        "imagePreferNextGen": { "type": "boolean" },
        "image-prefer-nextgen": { "type": "boolean" },
        "imageWidths": { "type": "array", "items": { "type": "integer", "minimum": 1 } },
        "image-widths": { "type": "array", "items": { "type": "integer", "minimum": 1 } },
        "imageEnhanceTags": { "type": "boolean" },
        "image-enhance-tags": { "type": "boolean" },
        "imageMaxBytesPerFile": { "type": "integer", "minimum": 0 },
        "image-max-bytes": { "type": "integer", "minimum": 0 },
        "imageMaxTotalBytes": { "type": "integer", "minimum": 0 },
        "image-max-total-bytes": { "type": "integer", "minimum": 0 },
        "imageFailOnBudget": { "type": "boolean" },
        "image-fail-on-budget": { "type": "boolean" },
        "imageFailOnFailures": { "type": "boolean" },
        "image-fail-on-failures": { "type": "boolean" },
        "imageFailOnErrors": { "type": "boolean" },
        "image-fail-on-errors": { "type": "boolean" },
        "hashAssets": { "type": "boolean" },
        "hashExtensions": { "type": "array", "items": { "type": "string" } },
        "hashExclude": { "type": "array", "items": { "type": "string" } },
        "hashManifest": { "type": "string" },
        "reportPath": { "type": "string" },
        "report-path": { "type": "string" },
        "cacheHeaders": { "type": "boolean" },
        "cacheHeadersOut": { "type": "string" },
        "cacheHeadersHtml": { "type": "string" },
        "cacheHeadersAssets": { "type": "string" },
        "cacheHeadersPaths": { "type": "array", "items": { "type": "string" } }
      },
      "required": ["task"],
      "allOf": [
        {
          "anyOf": [
            { "required": ["siteRoot"] },
            { "required": ["site-root"] }
          ]
        }
      ]
    },
    "AuditStep": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "task": { "const": "audit" },
        "id": { "type": "string" },
        "dependsOn": { "oneOf": [{ "type": "string" }, { "type": "array", "items": { "type": "string" } }] },
        "mode": { "type": "string" },
        "modes": { "type": "array", "items": { "type": "string" } },
        "onlyModes": { "type": "array", "items": { "type": "string" } },
        "only-modes": { "type": "array", "items": { "type": "string" } },
        "skipModes": { "type": "array", "items": { "type": "string" } },
        "skip-modes": { "type": "array", "items": { "type": "string" } },
        "siteRoot": { "type": "string" },
        "include": { "type": "string" },
        "exclude": { "type": "string" },
        "budgetExclude": { "type": "string", "description": "Comma-separated glob patterns to exclude from budget counters (for example api/**). Does not affect the HTML audit scope." },
        "budget-exclude": { "type": "string", "description": "Alias for budgetExclude." },
        "maxHtmlFiles": { "type": "integer", "minimum": 0 },
        "max-html-files": { "type": "integer", "minimum": 0 },
        "maxTotalFiles": { "type": "integer", "minimum": 0, "description": "Maximum allowed total file count under siteRoot (0 disables)." },
        "max-total-files": { "type": "integer", "minimum": 0, "description": "Alias for maxTotalFiles." },
        "scopeFromBuildUpdated": {
          "type": "boolean",
          "description": "When true, if include is not set, scope the audit to the HTML files updated by the most recent build step (when siteRoot matches build out). In --fast mode this behavior is enabled by default; set this to false to disable."
        },
        "scope-from-build-updated": { "type": "boolean" },
        "noDefaultExclude": { "type": "boolean" },
        "ignoreNav": { "type": "string" },
        "ignoreMedia": { "type": "string" },
        "ignore-media": { "type": "string" },
        "noDefaultIgnoreNav": { "type": "boolean" },
        "noDefaultIgnoreMedia": { "type": "boolean" },
        "navSelector": { "type": "string" },
        "navRequired": { "type": "boolean" },
        "navOptional": { "type": "boolean" },
        "navIgnorePrefixes": { "type": "string" },
        "navRequiredLinks": {
          "type": "string",
          "description": "Comma-separated list of links that must exist in each audited nav."
        },
        "mediaProfiles": { "type": "string" },
        "media-profiles": { "type": "string" },
        "navRequiredLink": {
          "type": "string",
          "description": "Deprecated alias for navRequiredLinks."
        },
        "minNavCoveragePercent": {
          "type": "integer",
          "minimum": 0,
          "maximum": 100
        },
        "min-nav-coverage": {
          "type": "integer",
          "minimum": 0,
          "maximum": 100
        },
        "requiredRoutes": {
          "type": "string",
          "description": "Comma-separated list of routes that must resolve in generated output."
        },
        "required-routes": {
          "type": "string",
          "description": "Deprecated alias for requiredRoutes."
        },
        "requiredRoute": {
          "type": "string",
          "description": "Deprecated alias for requiredRoutes."
        },
        "required-route": {
          "type": "string",
          "description": "Deprecated alias for requiredRoutes."
        },
        "checkLinks": { "type": "boolean" },
        "checkAssets": { "type": "boolean" },
        "checkNav": { "type": "boolean" },
        "checkTitles": { "type": "boolean" },
        "checkDuplicateIds": { "type": "boolean" },
        "checkHtmlStructure": { "type": "boolean" },
        "rendered": { "type": "boolean" },
        "renderedEngine": { "type": "string" },
        "renderedEnsureInstalled": { "type": "boolean" },
        "renderedHeadless": { "type": "boolean" },
        "renderedBaseUrl": { "type": "string" },
        "renderedHost": { "type": "string" },
        "renderedPort": { "type": "integer", "minimum": 0 },
        "renderedServe": { "type": "boolean" },
        "renderedMaxPages": { "type": "integer", "minimum": 0 },
        "renderedTimeoutMs": { "type": "integer", "minimum": 0 },
        "renderedCheckConsoleErrors": { "type": "boolean" },
        "renderedCheckConsoleWarnings": { "type": "boolean" },
        "renderedCheckFailedRequests": { "type": "boolean" },
        "renderedCheckContrast": { "type": "boolean" },
        "renderedContrastMinRatio": { "type": "number", "exclusiveMinimum": 0 },
        "renderedContrastMaxFindings": { "type": "integer", "minimum": 1 },
        "renderedInclude": { "type": "string" },
        "renderedExclude": { "type": "string" },
        "summary": { "type": "boolean" },
        "summaryPath": { "type": "string" },
        "summaryMaxIssues": { "type": "integer", "minimum": 0 },
        "baselinePath": { "type": "string" },
        "baseline": { "type": "string" },
        "failOnWarnings": { "type": "boolean" },
        "failOnNewIssues": { "type": "boolean" },
        "failOnNew": { "type": "boolean" },
        "maxErrors": { "type": "integer" },
        "maxWarnings": { "type": "integer" },
        "failOnCategories": { "type": "string" },
        "failCategories": { "type": "string" },
        "failOnIssueCodes": { "type": "string", "description": "Comma-separated issue code/hint patterns that fail audit (for example media-img-dimensions or PFAUDIT.MEDIA.MEDIA-IMG-DIMENSIONS)." },
        "failIssueCodes": { "type": "string", "description": "Alias for failOnIssueCodes." },
        "failOnIssues": { "type": "string", "description": "Alias for failOnIssueCodes." },
        "failIssues": { "type": "string", "description": "Alias for failOnIssueCodes." },
        "navCanonicalPath": { "type": "string" },
        "navCanonical": { "type": "string" },
        "navCanonicalSelector": { "type": "string" },
        "navCanonicalRequired": { "type": "boolean" },
        "checkUtf8": { "type": "boolean" },
        "checkMetaCharset": { "type": "boolean" },
        "checkUnicodeReplacementChars": { "type": "boolean" },
        "checkHeadingOrder": { "type": "boolean" },
        "checkSeoMeta": { "type": "boolean", "description": "Validate canonical/OpenGraph/Twitter metadata consistency." },
        "check-seo-meta": { "type": "boolean", "description": "Alias for checkSeoMeta." },
        "checkLinkPurposeConsistency": { "type": "boolean" },
        "checkLinkPurpose": { "type": "boolean" },
        "checkMediaEmbeds": { "type": "boolean" },
        "checkMedia": { "type": "boolean" },
        "checkNetworkHints": { "type": "boolean" },
        "checkRenderBlockingResources": { "type": "boolean" },
        "checkRenderBlocking": { "type": "boolean" },
        "maxHeadBlockingResources": { "type": "integer", "minimum": 0 },
        "max-head-blocking": { "type": "integer", "minimum": 0 },
        "requireExplicitChecks": {
          "type": "boolean",
          "description": "When true, require explicit values for compatibility-sensitive checks (checkSeoMeta, checkNetworkHints, checkRenderBlockingResources, checkHeadingOrder, checkLinkPurposeConsistency, checkMediaEmbeds)."
        },
        "require-explicit-checks": {
          "type": "boolean",
          "description": "Alias for requireExplicitChecks."
        },
        "suppressIssues": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Issue suppressions (do not emit, do not count, do not gate). Supports codes like PFAUDIT.BUDGET plus substring/wildcard/re:... matching."
        },
        "suppress-issues": { "type": "array", "items": { "type": "string" }, "description": "Alias for suppressIssues." },
        "baselineGenerate": { "type": "boolean" },
        "baselineUpdate": { "type": "boolean" }
      },
      "required": ["task", "siteRoot"]
    },
    "SeoDoctorStep": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "task": { "const": "seo-doctor" },
        "id": { "type": "string" },
        "dependsOn": { "oneOf": [{ "type": "string" }, { "type": "array", "items": { "type": "string" } }] },
        "mode": { "type": "string" },
        "modes": { "type": "array", "items": { "type": "string" } },
        "onlyModes": { "type": "array", "items": { "type": "string" } },
        "only-modes": { "type": "array", "items": { "type": "string" } },
        "skipModes": { "type": "array", "items": { "type": "string" } },
        "skip-modes": { "type": "array", "items": { "type": "string" } },
        "siteRoot": { "type": "string" },
        "site-root": { "type": "string" },
        "include": { "type": "string" },
        "exclude": { "type": "string" },
        "scopeFromBuildUpdated": {
          "type": "boolean",
          "description": "When true, if include is not set, scope SEO doctor checks to HTML files updated by the most recent build step (when siteRoot matches build out). In --fast mode this behavior is enabled by default; set this to false to disable."
        },
        "scope-from-build-updated": { "type": "boolean" },
        "noDefaultExclude": { "type": "boolean" },
        "maxHtmlFiles": { "type": "integer", "minimum": 0 },
        "max-html-files": { "type": "integer", "minimum": 0 },
        "includeNoIndexPages": { "type": "boolean" },
        "checkTitleLength": { "type": "boolean" },
        "checkDescriptionLength": { "type": "boolean" },
        "checkH1": { "type": "boolean" },
        "checkHeading": { "type": "boolean", "description": "Alias for checkH1." },
        "checkImageAlt": { "type": "boolean" },
        "checkDuplicateTitles": { "type": "boolean" },
        "checkOrphanPages": { "type": "boolean" },
        "checkFocusKeyphrase": { "type": "boolean" },
        "checkCanonical": { "type": "boolean" },
        "check-canonical": { "type": "boolean", "description": "Alias for checkCanonical." },
        "checkHreflang": { "type": "boolean" },
        "check-hreflang": { "type": "boolean", "description": "Alias for checkHreflang." },
        "checkStructuredData": { "type": "boolean" },
        "check-structured-data": { "type": "boolean", "description": "Alias for checkStructuredData." },
        "requireCanonical": { "type": "boolean" },
        "require-canonical": { "type": "boolean", "description": "Alias for requireCanonical." },
        "requireHreflang": { "type": "boolean" },
        "require-hreflang": { "type": "boolean", "description": "Alias for requireHreflang." },
        "requireHreflangXDefault": { "type": "boolean" },
        "require-hreflang-x-default": { "type": "boolean", "description": "Alias for requireHreflangXDefault." },
        "requireStructuredData": { "type": "boolean" },
        "require-structured-data": { "type": "boolean", "description": "Alias for requireStructuredData." },
        "focusKeyphraseMetaName": { "type": "string" },
        "focus-keyphrase-meta-name": { "type": "string", "description": "Alias for focusKeyphraseMetaName." },
        "focusKeyphraseMetaNames": {
          "type": "array",
          "items": { "type": "string" }
        },
        "focus-keyphrase-meta-names": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Alias for focusKeyphraseMetaNames."
        },
        "minTitleLength": { "type": "integer", "minimum": 0 },
        "maxTitleLength": { "type": "integer", "minimum": 0 },
        "minDescriptionLength": { "type": "integer", "minimum": 0 },
        "maxDescriptionLength": { "type": "integer", "minimum": 0 },
        "minFocusKeyphraseMentions": { "type": "integer", "minimum": 0 },
        "baselinePath": { "type": "string" },
        "baseline": { "type": "string" },
        "baselineGenerate": { "type": "boolean" },
        "baselineUpdate": { "type": "boolean" },
        "failOnWarnings": { "type": "boolean" },
        "failOnNewIssues": { "type": "boolean" },
        "failOnNew": { "type": "boolean" },
        "maxErrors": { "type": "integer" },
        "maxWarnings": { "type": "integer" },
        "reportPath": { "type": "string" },
        "report-path": { "type": "string", "description": "Alias for reportPath." },
        "summaryPath": { "type": "string" },
        "summary-path": { "type": "string", "description": "Alias for summaryPath." }
      },
      "required": ["task"],
      "allOf": [
        {
          "anyOf": [
            { "required": ["siteRoot"] },
            { "required": ["site-root"] }
          ]
        }
      ]
    },
    "DotNetBuildStep": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "task": { "const": "dotnet-build" },
        "id": { "type": "string" },
        "dependsOn": { "oneOf": [{ "type": "string" }, { "type": "array", "items": { "type": "string" } }] },
        "mode": { "type": "string" },
        "modes": { "type": "array", "items": { "type": "string" } },
        "onlyModes": { "type": "array", "items": { "type": "string" } },
        "only-modes": { "type": "array", "items": { "type": "string" } },
        "skipModes": { "type": "array", "items": { "type": "string" } },
        "skip-modes": { "type": "array", "items": { "type": "string" } },
        "project": { "type": "string" },
        "configuration": { "type": "string" },
        "framework": { "type": "string" },
        "runtime": { "type": "string" },
        "noRestore": { "type": "boolean" },
        "skipIfProjectMissing": { "type": "boolean", "description": "When true, skip this step if the project path does not exist." },
        "skipIfMissingProject": { "type": "boolean", "description": "Alias of skipIfProjectMissing." },
        "skip-if-project-missing": { "type": "boolean", "description": "Alias of skipIfProjectMissing." }
      },
      "required": ["task", "project"]
    },
    "DotNetPublishStep": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "task": { "const": "dotnet-publish" },
        "id": { "type": "string" },
        "dependsOn": { "oneOf": [{ "type": "string" }, { "type": "array", "items": { "type": "string" } }] },
        "mode": { "type": "string" },
        "modes": { "type": "array", "items": { "type": "string" } },
        "onlyModes": { "type": "array", "items": { "type": "string" } },
        "only-modes": { "type": "array", "items": { "type": "string" } },
        "skipModes": { "type": "array", "items": { "type": "string" } },
        "skip-modes": { "type": "array", "items": { "type": "string" } },
        "project": { "type": "string" },
        "out": { "type": "string" },
        "output": { "type": "string" },
        "configuration": { "type": "string" },
        "framework": { "type": "string" },
        "runtime": { "type": "string" },
        "clean": {
          "type": "boolean",
          "description": "When true, clear dotnet publish output to prevent stale files from previous runs."
        },
        "selfContained": { "type": "boolean" },
        "noBuild": { "type": "boolean" },
        "noRestore": { "type": "boolean" },
        "skipIfProjectMissing": { "type": "boolean", "description": "When true, skip this step if the project path does not exist." },
        "skipIfMissingProject": { "type": "boolean", "description": "Alias of skipIfProjectMissing." },
        "skip-if-project-missing": { "type": "boolean", "description": "Alias of skipIfProjectMissing." },
        "baseHref": { "type": "string" },
        "defineConstants": { "type": "string" },
        "define-constants": { "type": "string", "description": "Alias of defineConstants." },
        "blazorFixes": { "type": "boolean", "description": "When true, apply Blazor publish fixes (default true when not specified)." },
        "blazor-fixes": { "type": "boolean", "description": "Alias of blazorFixes." },
        "noBlazorFixes": { "type": "boolean", "description": "When true, disable Blazor publish fixes." },
        "no-blazor-fixes": { "type": "boolean", "description": "Alias of noBlazorFixes." }
      },
      "required": ["task", "project"],
      "allOf": [
        {
          "anyOf": [
            { "required": ["out"] },
            { "required": ["output"] }
          ]
        }
      ]
    },
    "OverlayStep": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "task": { "const": "overlay" },
        "id": { "type": "string" },
        "dependsOn": { "oneOf": [{ "type": "string" }, { "type": "array", "items": { "type": "string" } }] },
        "mode": { "type": "string" },
        "modes": { "type": "array", "items": { "type": "string" } },
        "onlyModes": { "type": "array", "items": { "type": "string" } },
        "only-modes": { "type": "array", "items": { "type": "string" } },
        "skipModes": { "type": "array", "items": { "type": "string" } },
        "skip-modes": { "type": "array", "items": { "type": "string" } },
        "source": { "type": "string" },
        "destination": { "type": "string" },
        "clean": { "type": "boolean" },
        "include": { "type": "string" },
        "exclude": { "type": "string" }
      },
      "required": ["task", "source", "destination"]
    },
    "HostingStep": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "task": { "const": "hosting" },
        "id": { "type": "string" },
        "dependsOn": { "oneOf": [{ "type": "string" }, { "type": "array", "items": { "type": "string" } }] },
        "mode": { "type": "string" },
        "modes": { "type": "array", "items": { "type": "string" } },
        "onlyModes": { "type": "array", "items": { "type": "string" } },
        "only-modes": { "type": "array", "items": { "type": "string" } },
        "skipModes": { "type": "array", "items": { "type": "string" } },
        "skip-modes": { "type": "array", "items": { "type": "string" } },
        "siteRoot": { "type": "string" },
        "site-root": { "type": "string" },
        "target": { "type": "string", "description": "Single hosting target (netlify, azure, vercel, apache/apache2, nginx, iis)." },
        "targets": {
          "oneOf": [
            { "type": "string", "description": "Comma-separated hosting targets." },
            { "type": "array", "items": { "type": "string" } }
          ]
        },
        "hosts": {
          "oneOf": [
            { "type": "string", "description": "Alias for targets." },
            { "type": "array", "items": { "type": "string" } }
          ]
        },
        "hostTargets": {
          "oneOf": [
            { "type": "string", "description": "Alias for targets." },
            { "type": "array", "items": { "type": "string" } }
          ]
        },
        "host-targets": {
          "oneOf": [
            { "type": "string", "description": "Alias for targets." },
            { "type": "array", "items": { "type": "string" } }
          ]
        },
        "removeUnselected": { "type": "boolean", "description": "When true, delete known host artifacts not in selected targets." },
        "remove-unselected": { "type": "boolean", "description": "Alias for removeUnselected." },
        "clean": { "type": "boolean", "description": "Alias for removeUnselected." },
        "strict": { "type": "boolean", "description": "When true, fail if selected target artifacts are missing." },
        "dryRun": { "type": "boolean" },
        "dry-run": { "type": "boolean", "description": "Alias for dryRun." }
      },
      "required": ["task"],
      "allOf": [
        {
          "anyOf": [
            { "required": ["siteRoot"] },
            { "required": ["site-root"] }
          ]
        }
      ]
    },
    "SitemapEntry": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "path": { "type": "string" },
        "route": { "type": "string" },
        "url": { "type": "string" },
        "priority": { "type": "string" },
        "changefreq": { "type": "string" },
        "changeFrequency": { "type": "string" },
        "lastmod": { "type": "string" },
        "lastModified": { "type": "string" },
        "title": { "type": "string" },
        "description": { "type": "string" },
        "section": { "type": "string" },
        "images": { "type": "array", "items": { "type": "string" } },
        "videos": { "type": "array", "items": { "type": "string" } },
        "alternates": {
          "type": "array",
          "items": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "hrefLang": { "type": "string" },
              "hreflang": { "type": "string" },
              "path": { "type": "string" },
              "route": { "type": "string" },
              "url": { "type": "string" },
              "href": { "type": "string" }
            }
          }
        }
      }
    },
    "SitemapNewsMetadata": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "publicationName": { "type": "string" },
        "publication-name": { "type": "string" },
        "name": { "type": "string" },
        "publicationLanguage": { "type": "string" },
        "publication-language": { "type": "string" },
        "language": { "type": "string" },
        "genres": { "type": "string" },
        "access": { "type": "string" },
        "keywords": { "type": "string" }
      }
    }
  }
}

